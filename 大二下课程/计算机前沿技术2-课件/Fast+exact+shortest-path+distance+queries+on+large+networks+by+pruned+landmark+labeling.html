<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Fast exact shortest-path distance queries on large networks by pruned landmark labeling</title><meta name="author" content="Takuya Akiba, Yoichi Iwata, Yuichi Yoshida"/><meta name="keywords" content="graphs, query processing, shortest paths"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s2 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .a, a { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 h2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .p, p { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; margin:0pt; }
 .s3 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .h3, h3 { color: black; font-family:Georgia, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s4 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s5 { color: #231F20; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s6 { color: #231F20; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s7 { color: black; font-family:"MS UI Gothic", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s8 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s9 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s10 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s11 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; }
 .s12 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s13 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 4pt; }
 .s14 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 4pt; }
 .s15 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s16 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s17 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s18 { color: black; font-family:Georgia, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s19 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s20 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s21 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -1pt; }
 .s22 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -2pt; }
 .s23 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -2pt; }
 .s25 { color: black; font-family:"MS UI Gothic", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s26 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s27 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -2pt; }
 .s28 { color: black; font-family:"MS UI Gothic", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 6pt; }
 .s29 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s30 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: 3pt; }
 .s31 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; vertical-align: -1pt; }
 .s32 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s33 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 3pt; }
 .s34 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 7pt; }
 .s35 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: -4pt; }
 .s36 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -1pt; }
 .s37 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s38 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -3pt; }
 .s39 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 1pt; }
 .s40 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -4pt; }
 .s41 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 5pt; }
 .s42 { color: black; font-family:Georgia, serif; font-style: normal; font-weight: bold; text-decoration: underline; font-size: 9pt; }
 .s43 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s44 { color: black; font-family:"MS UI Gothic", sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s45 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 6pt; vertical-align: -1pt; }
 .s46 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: underline; font-size: 6pt; }
 .s47 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 7pt; }
 .s48 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 5pt; }
 .s49 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 8pt; }
 .s50 { color: black; font-family:Georgia, serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; vertical-align: 1pt; }
 .s51 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 1pt; }
 .s52 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: -3pt; }
 .s53 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; vertical-align: 2pt; }
 .s54 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 6pt; vertical-align: 4pt; }
 .s55 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s56 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4pt; vertical-align: 2pt; }
 .s57 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4pt; }
 .s58 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; }
 .s60 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 5pt; vertical-align: -2pt; }
 li {display: block; }
 #l1 {padding-left: 0pt;counter-reset: c1 0; }
 #l1> li:before {counter-increment: c1; content: counter(c1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l2 {padding-left: 0pt;counter-reset: c2 0; }
 #l2> li:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l3 {padding-left: 0pt;counter-reset: c2 0; }
 #l3> li:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l4 {padding-left: 0pt;counter-reset: c2 0; }
 #l4> li:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l5 {padding-left: 0pt;counter-reset: c2 0; }
 #l5> li:before {counter-increment: c2; content: counter(c1, decimal)"."counter(c2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l6 {padding-left: 0pt;counter-reset: d1 0; }
 #l6> li:before {counter-increment: d1; content: "("counter(d1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l7 {padding-left: 0pt;counter-reset: e1 4; }
 #l7> li:before {counter-increment: e1; content: counter(e1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l8 {padding-left: 0pt;counter-reset: e2 3; }
 #l8> li:before {counter-increment: e2; content: counter(e1, decimal)"."counter(e2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l9 {padding-left: 0pt;counter-reset: e3 0; }
 #l9> li:before {counter-increment: e3; content: counter(e1, decimal)"."counter(e2, decimal)"."counter(e3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l10 {padding-left: 0pt;counter-reset: f1 4; }
 #l10> li:before {counter-increment: f1; content: counter(f1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l11 {padding-left: 0pt;counter-reset: f2 5; }
 #l11> li:before {counter-increment: f2; content: counter(f1, decimal)"."counter(f2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l12 {padding-left: 0pt;counter-reset: f3 0; }
 #l12> li:before {counter-increment: f3; content: counter(f1, decimal)"."counter(f2, decimal)"."counter(f3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 li {display: block; }
 #l13 {padding-left: 0pt;counter-reset: f1 4; }
 #l13> li:before {counter-increment: f1; content: counter(f1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l14 {padding-left: 0pt;counter-reset: f2 6; }
 #l14> li:before {counter-increment: f2; content: counter(f1, decimal)"."counter(f2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l15 {padding-left: 0pt;counter-reset: f3 1; }
 #l15> li:before {counter-increment: f3; content: counter(f1, decimal)"."counter(f2, decimal)"."counter(f3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 li {display: block; }
 #l16 {padding-left: 0pt;counter-reset: g1 1; }
 #l16> li:before {counter-increment: g1; content: counter(g1, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l17 {padding-left: 0pt;counter-reset: h1 18; }
 #l17> li:before {counter-increment: h1; content: "("counter(h1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l18 {padding-left: 0pt;counter-reset: g2 5; }
 #l18> li:before {counter-increment: g2; content: counter(g2, decimal)". "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l19 {padding-left: 0pt;counter-reset: i1 7; }
 #l19> li:before {counter-increment: i1; content: counter(i1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l20 {padding-left: 0pt;counter-reset: i2 1; }
 #l20> li:before {counter-increment: i2; content: counter(i1, decimal)"."counter(i2, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l21 {padding-left: 0pt;counter-reset: i3 0; }
 #l21> li:before {counter-increment: i3; content: counter(i1, decimal)"."counter(i2, decimal)"."counter(i3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l22 {padding-left: 0pt;counter-reset: i4 0; }
 #l22> li:before {counter-increment: i4; content: "("counter(i4, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l23 {padding-left: 0pt;counter-reset: j1 7; }
 #l23> li:before {counter-increment: j1; content: counter(j1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l24 {padding-left: 0pt;counter-reset: j2 1; }
 #l24> li:before {counter-increment: j2; content: counter(j1, decimal)"."counter(j2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l25 {padding-left: 0pt;counter-reset: j3 0; }
 #l25> li:before {counter-increment: j3; content: counter(j1, decimal)"."counter(j2, decimal)"."counter(j3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l26 {padding-left: 0pt;counter-reset: k1 0; }
 #l26> li:before {counter-increment: k1; content: "("counter(k1, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l27 {padding-left: 0pt;counter-reset: j4 0; }
 #l27> li:before {counter-increment: j4; content: "("counter(j4, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l28 {padding-left: 0pt;counter-reset: l1 7; }
 #l28> li:before {counter-increment: l1; content: counter(l1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l29 {padding-left: 0pt;counter-reset: l2 2; }
 #l29> li:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l30 {padding-left: 0pt;counter-reset: l3 0; }
 #l30> li:before {counter-increment: l3; content: counter(l1, decimal)"."counter(l2, decimal)"."counter(l3, decimal)" "; color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 11pt; }
 #l31 {padding-left: 0pt;counter-reset: l4 0; }
 #l31> li:before {counter-increment: l4; content: "("counter(l4, lower-latin)") "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
</style></head><body><h1 style="padding-top: 1pt;padding-left: 85pt;text-indent: -50pt;line-height: 20pt;text-align: left;">Fast Exact Shortest-Path Distance Queries on Large Networks by Pruned Landmark Labeling</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-top: 4pt;padding-left: 57pt;text-indent: 17pt;line-height: 90%;text-align: left;">Takuya Akiba <span class="s2">The University of Tokyo Tokyo, 113-0033, Japan</span></p><p style="padding-left: 42pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><a href="mailto:t.akiba@is.s.u-tokyo.ac.jp" class="a" target="_blank">t.akiba@is.s.u-tokyo.ac.jp</a></p><p class="s1" style="padding-top: 2pt;padding-left: 23pt;text-indent: 0pt;line-height: 13pt;text-align: center;">Yoichi Iwata</p><p class="s2" style="padding-left: 23pt;text-indent: 0pt;line-height: 11pt;text-align: center;">The University of Tokyo Tokyo, 113-0033, Japan</p><p style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: center;"><a href="mailto:y.iwata@is.s.u-tokyo.ac.jp">y.iwata@is.s.u-tokyo.ac.jp</a></p><p class="s1" style="padding-top: 2pt;padding-left: 4pt;text-indent: 0pt;line-height: 13pt;text-align: center;">Yuichi Yoshida</p><p class="s2" style="padding-left: 4pt;text-indent: 0pt;line-height: 90%;text-align: center;">National Institute of Informatics, Preferred Infrastructure, Inc. Tokyo, 101-8430, Japan <a href="mailto:oshida@nii.ac.jp" class="a" target="_blank">yy</a><a href="mailto:oshida@nii.ac.jp" target="_blank">oshida@nii.ac.jp</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">ABSTRACT</h2><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark0">We propose a new exact method for shortest-path distance queries on large-scale networks. Our method precomputes distance labels for vertices by performing a breadth-ﬁrst search from every vertex. Seemingly too obvious and too ineﬃcient at ﬁrst glance, the key ingredient introduced here is </a><span class="s3">pruning </span>during breadth-ﬁrst searches. While we can still answer the correct distance for any pair of vertices from   the labels, it surprisingly reduces the search space and sizes of labels. Moreover, we  show that we  can perform 32 or  64 breadth-ﬁrst searches simultaneously exploiting bitwise operations. We experimentally demonstrate that the com- bination of these two techniques is eﬃcient and robust on various kinds of large-scale real-world networks. In particu- lar, our method can handle social networks and web graphs with hundreds of millions of edges, which are two orders of magnitude larger than the limits of previous exact methods, with comparable query time to those of previous methods.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Categories and Subject Descriptors</h2><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">E.1 [<span class="h3">Data</span>]: Data Structures—<span class="s3">Graphs and networks</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">General Terms</h2><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Algorithms, Experimentation, Performance</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Keywords</h2><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Graphs, shortest paths, query processing</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l1"><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;">INTRODUCTION</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">A <span class="s3">distance query </span>asks the distance between two vertices in a graph. Without doubt, answering distance queries is  one of the most fundamental operations on graphs, and it has wide range of applications. For example, on social net- works, distance between two users is considered to indicate the closeness, and used in socially-sensitive search to help users to ﬁnd more related users or contents [40, 42], or to</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee.</p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">SIGMOD’13, <span class="s6">June 22–27, 2013, New York, New York, USA. Copyright 2013 ACM 978-1-4503-2037-5/13/06 ...$15.00.</span></p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">analyze inﬂuential people and communities [19, 6]. On web graphs, distance between web pages is one of indicators of relevance, and used in context-aware search to give higher ranks to web pages more related to the currently visiting  web page [39, 29]. Other applications of distance queries in- clude top-<span class="s3">k </span>keyword queries on linked data [16,37], discovery of optimal pathways between compounds in metabolic net- works [31, 32], and management of resources in computer networks [28, 7].</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Of course, we can compute the distance for each query by using a breadth ﬁrst search (BFS) or Dijkstra’s algorithm. However, they take more than a second for large graphs, which is too slow to use as a building block of these appli- cations. In particular, applications such as socially-sensitive search or context-aware search should have low latency since they involve real-time interactions between users, while they need distances between a number of pairs of vertices to rank items for each search query. Therefore, distance queries should be answered much more quickly, say, microseconds.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">The other extreme approach is to compute distances be- tween all pairs of vertices beforehand and store them in an index. Though we  can answer distance queries instantly,  this approach is also unacceptable since preprocessing time and index size are quadratic and unrealistically large. Due  to the emergence of huge graph data, design of more mod- erate and practical methods between these two extreme ap- proaches has been attracting strong interest in the database community [12, 29, 41, 38, 4, 30, 17].</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Generally, there are two major graph classes of real-world networks: one is road networks, and the other is complex networks such as social networks, web graphs, biological net- works and computer networks. For road networks, since it is easier to grasp and exploit structures of them, research has been already very successful. Now distance queries on road networks can be processed in less than one microsecond for the complete road network of the USA [1].</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">In contrast, answering distance queries on complex net- works is still a highly challenging problem. The methods  for road networks do not perform well on these networks since structures of them are totally diﬀerent. Several meth- ods have been proposed for these networks, but they suﬀer from drawback of scalability. They take at least thousands  of seconds or tens of thousands of seconds to index networks with millions of edges [41, 4, 2, 17].</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">To handle larger complex networks, apart from these exact methods, approximate methods are also studied. That is, we do not always have to answer correct distances. They are successful in terms of much better scalability and very small</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1">average relative error for random queries. However, some of these methods take milliseconds to answer queries [15, 38, 30], which is about three orders of magnitude slower than other methods. Some other methods answer queries in mi- croseconds [29, 40], but it is reported that precision of these methods for close pairs of vertices is not high [30, 4]. This drawback might be critical for applications such as socially- sensitive search or context-aware search since, in these ap- plications, distance queries are employed to distinguish close items.</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l2"><li style="padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Our Contributions</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">To address these issues, in this paper, we present a new method for answering distance queries in complex networks. The proposed method is an exact method. That is, it always answers exactly correct distance to queries. It has much bet- ter scalability than previous exact methods and can handle graphs with hundreds of millions of edges. Nevertheless,  the query time is very small and around ten microseconds. Though our method can handle directed and/or weighted graphs as we mention later, in the following, we assume undirected, unweighted graphs for simplicity of exposition.</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;"><span class="p">Our method is based on the notion of </span>distance labeling     <span class="p">or </span>distance-aware 2-hop cover<span class="p">. The idea of 2-hop cover is as follows. For each vertex </span>u<span class="p">, we pick up a set </span>C<span class="p">(</span>u<span class="p">) of candidate vertices so  that  every  pair  of  vertices  (</span>u, v<span class="p">)  has at least one vertex </span>w <span class="s7">∈ </span>C<span class="p">(</span>u<span class="p">) </span><span class="s7">∩ </span>C<span class="p">(</span>v<span class="p">) on a shortest path between the pair. For  each vertex </span>u <span class="p">and a vertex </span>w <span class="s7">∈ </span>C<span class="p">(</span>u<span class="p">),  we precompute the distance </span>d<span class="s8">G</span><span class="p">(</span>u, w<span class="p">) between them. We</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">say  that  the  set  <span class="s3">L</span>(<span class="s3">u</span>)  =  <span class="s7">{</span>(<span class="s3">w, d</span><span class="s8">G</span>(<span class="s3">u, w</span>))<span class="s7">}</span><span class="s8">w</span><span class="s9">∈</span><span class="s10">C</span><span class="s11">(</span><span class="s10">u</span><span class="s11">)   </span>is  the  <span class="s3">label</span></p><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 64%;text-align: justify;"><span class="s12">of </span>u<span class="p">. Using labels, it is clear that the distance </span>d<span class="s10">G</span><span class="s12">(</span>u, v<span class="p">) between two vertices </span>u <span class="p">and </span>v <span class="p">can be computed as min</span><span class="s7">{</span>δ <span class="p">+</span>δ<span class="s13">们</span><span class="s9"> </span><span class="s7">| </span><span class="p">(</span>w, δ<span class="p">) </span><span class="s7">∈ </span>L<span class="p">(</span>u<span class="p">)</span>, <span class="p">(</span>w, δ<span class="s13">们</span><span class="p">) </span><span class="s7">∈ </span>L<span class="p">(</span>v<span class="p">)</span><span class="s7">}</span><span class="p">. The family of labels </span><span class="s7">{</span>L<span class="p">(</span>u<span class="p">)</span><span class="s7">}</span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">is called a <span class="s3">2-hop cover</span>. Distance labeling is also commonly used in previous exact methods [13,12,2,17], but we propose a totally new and diﬀerent approach to compute the labels, referred to as the <span class="s3">pruned landmark labeling</span>.</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;"><span class="p">The idea of our method is simple and rather radical: from every vertex, we conduct a breadth-ﬁrst search and add the distance information to labels of visited vertices. Of course, if we naively implement this idea, we need </span>O<span class="p">(</span>nm<span class="p">) prepro- cessing time and </span>O<span class="p">(</span>n<span class="s14">2</span><span class="p">) space to store the index, which is unacceptable. Here, </span>n <span class="p">is the number of vertices and </span>m <span class="p">is the number of edges. Our key idea to make this method practi- cal is </span>pruning <span class="p">during the breadth-ﬁrst searches. Let </span>S <span class="p">be a set of vertices and suppose that we already have labels that can answer correct distance between two vertices if a shortest path between them passes through a vertex in </span>S<span class="p">. Suppose we are conducting a BFS from </span>v <span class="p">and visiting </span>u<span class="p">. If there is a vertex </span>w <span class="s7">∈ </span>S <span class="p">such that </span>d<span class="s8">G</span><span class="p">(</span>v, u<span class="p">) = </span>d<span class="s8">G</span><span class="p">(</span>v, w<span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>w, u<span class="p">), then we </span>prune u<span class="p">. That is, we do not traverse any edges from</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">u<span class="p">.  As we prove in Section 4.3, after this pruned BFS from  </span>v<span class="p">, the labels can answer the distance between two  vertices  if a shortest path between them passes through a vertex in </span>S <span class="s7">∪ {</span>v<span class="s7">}</span><span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Interestingly, our method combines the advantages of three diﬀerent previous successful approaches: landmark-based approximate methods [29, 38, 30], tree-decomposition-based exact methods [41,4], and labeling-based exact methods [13, 12, 2]. Landmark-based approximate methods achieve re- markable precision by leveraging the existence of highly <span class="s3">cen- tral  </span>vertices in complex networks [29].  This fact is also  the main reason of the power of our pruning: by conduct-</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Table 1: Summary of experimental results of previous meth- ods and the proposed method for exact distance queries.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:6.341pt" cellspacing="0"><tr style="height:11pt"><td style="width:55pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 12pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Method</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s16" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s15">Network </span>|<span class="s17">V </span>| |<span class="s17">E</span>|</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indexing Query</p></td></tr><tr style="height:20pt"><td style="width:55pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">TEDI</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">[41]</p></td><td style="width:108pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">Computer 22 K 46 K</p><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Social 0.6 M 0.6 M</p></td><td style="width:75pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 22pt;text-indent: 0pt;line-height: 8pt;text-align: left;">17 s 4.2 <span class="s17">µ</span>s</p><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2,226 s 55.0 <span class="s17">µ</span>s</p></td></tr><tr style="height:19pt"><td style="width:55pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">HCL</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">[17]</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social 7.1 K 0.1 M</p><p class="s15" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Citation 0.7 M 0.3 M</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1,003 s 28.2 <span class="s17">µ</span>s</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">253,104 s 0.2 <span class="s17">µ</span>s</p></td></tr><tr style="height:19pt"><td style="width:55pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">TD</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">[4]</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social 0.3 M 0.4 M</p><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Social 2.4 M 4.7 M</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 26pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9 s 0.5 <span class="s17">µ</span>s</p><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2,473 s 0.8 <span class="s17">µ</span>s</p></td></tr><tr style="height:19pt"><td style="width:55pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">HHL</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">[2]</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">Computer 0.2 M 1.2 M</p><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Social 0.3 M 1.9 M</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">7,399 s 3.1 <span class="s17">µ</span>s</p><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">19,488 s 6.9 <span class="s17">µ</span>s</p></td></tr><tr style="height:19pt"><td style="width:55pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: center;">PLL</p><p class="s18" style="text-indent: 0pt;line-height: 9pt;text-align: center;">(this work)</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 13pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web 0.3 M 1.5 M</p><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Social 2.4 M 4.7 M</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 25pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s18">4 s </span>0.5 <span class="s17">µ</span>s</p><p class="s15" style="padding-left: 20pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s18">61 s </span>0.6 <span class="s17">µ</span>s</p></td></tr><tr style="height:18pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 7pt;text-align: left;">Social 1.1 M <span class="s18">114 M</span></p><p class="s15" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Web 7.4 M <span class="s18">194 M</span></p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 7pt;text-align: left;">15,164 s 15.6 <span class="s17">µ</span>s</p><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 9pt;text-align: left;">6,068 s 4.1 <span class="s17">µ</span>s</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="24" height="24" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_001.png"/></span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">ing breadth-ﬁrst searches from these central vertices ﬁrst, later we can drastically prune breadth-ﬁrst searches. Tree- decomposition-based methods exploit the core–fringe struc- ture of networks [10, 27] by decomposing tree-like fringes  of low tree-width. Though our method does not explicitly use tree decompositions, we prove that our method can eﬃ- ciently process graphs of small tree-width. This process indi- cates that our method also exploits the core–fringe structure. As with other labeling-based methods, the data structure of our index is simple and query processing is very quick be- cause of the locality of memory access.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Though this pruned landmark labeling scheme is already powerful by itself, we propose another labeling scheme with a diﬀerent kind of strength and combine them to further improve the performance. That is, we show that labeling by breadth-ﬁrst search can be implemented in a bit-parallel way,  which exploits the property that the number of bits  <span class="s3">b </span>in a register word is typically 32 or 64 and we can per- form bit manipulations on these <span class="s3">b </span>bits simultaneously. By this technique, we can perform BFSs from <span class="s3">b </span>+ 1 vertices simultaneously in <span class="s3">O</span>(<span class="s3">m</span>) time. In the beginning, this bit- parallel labeling (without pruning) works better than the pruned landmark labeling since pruning does not happen much. Note that we are not talking about thread-level par- allelism, and our bit-parallelism actually decreases the com- putational complexity by the factor of <span class="s3">b </span>+ 1. We can also use thread-level parallelism in addition to these two labeling schemes.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">As we conﬁrm in our experimental results, our method outperforms other state-of-the-art methods for exact dis- tance queries. In particular, it has signiﬁcantly better scal- ability than previous methods. It took only tens of seconds for indexing networks with millions of edges. This indexing time is two orders of magnitude faster than previous meth- ods, which took at least thousands of seconds or even more than one day. Moreover, our method successfully handled networks with hundreds of millions of edges, which is again two orders of magnitude larger than networks that have been previously used in experiments of exact methods. The query time is also better than previous methods for networks with the same size, and we conﬁrmed that the query time does not increase rapidly against sizes of networks. We also con- ﬁrm the size of an index of our method is comparable to other methods.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">In Table 1, we summarize our experimental results and those of previous exact methods presented in these papers. We listed the results for the largest two real-world complex</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">networks from each paper. In our experiments, we further compare our method with hierarchical hub labeling [2] and the tree-decomposition-based method [4].</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">In Section 2, we describe related works on exact and ap- proximate distance queries. In Section 3, we give deﬁnitions and notions used in this paper. Section 4 is devoted to ex- plain our ﬁrst scheme, the pruned landmark labeling. We explain our second scheme, the bit-parallel labeling, in Sec- tion 5. In Section 6, we mention variants of distance queries we can handle by slightly modifying our method. We ex- plain our experimental results in Section 7, and conclude in Section 8.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;"><a name="bookmark2">RELATED WORK</a><a name="bookmark3">&zwnj;</a><a name="bookmark4">&zwnj;</a><a name="bookmark5">&zwnj;</a><a name="bookmark6">&zwnj;</a></h2><ol id="l3"><li style="padding-top: 7pt;padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Exact Methods</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">For exact distance queries on complex networks such as social networks and web graphs, several methods are pro- posed recently.</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;text-align: justify;"><a name="bookmark7"><span class="p">Large portion of these methods can be considered as based on the idea of 2-hop cover [13]. Finding small 2-hop covers eﬃciently is a challenging and long-standing problem [13,12, 2]. One of the latest methods is </span></a>hierarchical hub labeling <span class="p">[2], which is based on a method for road networks [1]. Another latest method related to 2-hop cover is </span>highway-centric la- beling <span class="p">[17]. In this method, we ﬁrst compute a spanning  tree </span>T <span class="p">and use it as a “highway”. That is, when computing </span><span class="s12">distance </span>d<span class="s10">G</span><span class="s12">(</span>u, v<span class="p">) between two vertices </span>u <span class="p">and </span>v<span class="p">, we output the minimum over </span>d<span class="s10">G</span><span class="s12">(</span>u, w<span class="s11">1</span><span class="s12">)+</span><span class="p"> </span>d<span class="s10">T </span><span class="s12">(</span>w<span class="s11">1</span><span class="s19">,</span> w<span class="s11">2</span><span class="s12">)+</span><span class="p"> </span>d<span class="s10">G</span><span class="s12">(</span>w<span class="s11">2</span><span class="s19">,</span> v<span class="p">) where </span>w<span class="s20">1 </span><span class="p">and </span>w<span class="s20">2 </span><span class="p">are vertices in labels of </span>u <span class="p">and </span>v<span class="p">, respectively, and</span><a name="bookmark8">&zwnj;</a></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">d<span class="s8">T </span><span class="p">(</span><span class="s7">·</span>, <span class="s7">·</span><span class="p">) is the distance metric on the spanning tree </span>T <span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">An approach based on <span class="s3">tree decompositions </span>is also reported to be eﬃcient [41,4]. A tree decomposition of a graph <span class="s3">G </span>is a tree <span class="s3">T </span>with each vertex associated with a set of vertices in <span class="s3">G</span>, called a <span class="s3">bag </span>[35]. Also, the set of bags containing a vertex in <span class="s3">G </span>forms a connected component in <span class="s3">T </span>. It heuristically computes a tree decompositions and stores shortest-distance matrices for each bag. It is not hard to compute distances from this information. The smaller the size of the largest bag is, the more eﬃcient this method is. Because of the core– fringe structure of the networks [10, 27], these networks can be decomposed into one big bag and many small bags, and the size of the largest bag is moderate though not small.</p></li><li style="padding-top: 5pt;padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Approximate Methods</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">To gain more scalability than these exact methods, ap- proximate methods, which do not always answer correct dis- tances, also have been studied.</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;"><span class="p">The major approach is the </span>landmark-based approach <span class="p">[36, 40]. The basic idea of these methods is to select a subset </span>L <span class="p">of vertices as landmarks, and precompute the distance </span>d<span class="s8">G</span><span class="p">(</span>I!, u<span class="p">) between each landmark </span>I! <span class="s7">∈ </span>L <span class="p">and all the vertices </span>u <span class="s7">∈ </span>V <span class="p">. When the distance between two  vertices </span>u <span class="p">and </span>v <span class="p">is queried, we answer the minimum </span>d<span class="s8">G</span><span class="p">(</span>u, I!<span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>I!, v<span class="p">) over  landmarks  </span>I! <span class="s7">∈ </span>L <span class="p">as an estimate. Generally,  the  precision  for  each query depends on whether actual shortest paths pass nearby the landmarks. Therefore, by selecting central vertices as landmarks, the accuracy of estimates becomes much  better than selecting landmarks randomly [29, 11]. However,  for close pairs, the precision is still much worse than the average, since lengths of shortest paths between them are small and they are unlikely to pass nearby the landmarks [4].</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: left;">To further improve the accuracy, several techniques were</p><p style="padding-top: 2pt;padding-left: 23pt;text-indent: 0pt;text-align: center;">Table 2: Frequently used notations.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:11.741pt" cellspacing="0"><tr style="height:11pt"><td style="width:51pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Notation</p></td><td style="width:176pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Description</p></td></tr><tr style="height:10pt"><td style="width:51pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">G <span class="s15">= (</span>V, E<span class="s15">)</span></p></td><td style="width:176pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">A graph</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">n</p></td><td style="width:176pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Number of vertices in graph <span class="s17">G</span></p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">m</p></td><td style="width:176pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Number of edges in graph <span class="s17">G</span></p></td></tr><tr style="height:10pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">N<span class="s21">G</span><span class="s15">(</span>v<span class="s15">)</span></p></td><td style="width:176pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Neighbors of vertex <span class="s17">v </span>in graph <span class="s17">G</span></p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">d<span class="s21">G</span><span class="s15">(</span>u, v<span class="s15">)</span></p></td><td style="width:176pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Distance between vertex <span class="s17">u </span>and <span class="s17">v </span>in graph <span class="s17">G</span></p></td></tr><tr style="height:18pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">P<span class="s21">G</span><span class="s15">(</span>u, v<span class="s15">)</span></p></td><td style="width:176pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Set of all the vertices on the shortest paths</p><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">between vertex <span class="s17">u </span>and <span class="s17">v </span>in graph <span class="s17">G</span></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">proposed [15,38,30]. They typically store shortest-path trees rooted at the landmarks instead of just storing distances from the landmarks. To answer queries, they extract paths from the shortest-path trees as candidates of shortest-paths, and improve them by ﬁnding loops or shortcuts. While they signiﬁcantly improve the accuracy, the query time becomes up to three orders of magnitude slower.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;">PRELIMINARIES</h2><ol id="l4"><li style="padding-top: 8pt;padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Notations</h2><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;"><span class="p">Table 2 lists the notations that are frequently used in this paper. In this paper, we mainly focus on networks that are modeled as graphs. Let </span>G <span class="p">= (</span>V, E<span class="p">) be a graph with vertex set </span>V <span class="p">and edge set </span>E<span class="p">. We use symbols </span>n <span class="p">and </span>m <span class="p">to denote  the number of vertices </span><span class="s7">|</span>V <span class="s7">| </span><span class="p">and the number of edges </span><span class="s7">|</span>E<span class="s7">|</span><span class="p">,  respectively, when the graph is clear from the context. We also denote the vertex set of </span>G <span class="p">by </span>V <span class="p">(</span>G<span class="p">) and the edge set of </span>G <span class="p">by </span>E<span class="p">(</span>G<span class="p">). We denote the neighbors of a vertex </span>v <span class="s7">∈ </span>V <span class="p">by </span>N<span class="s8">G</span><span class="p">(</span>v<span class="p">). That is, </span>N<span class="s8">G</span><span class="p">(</span>v<span class="p">) = </span><span class="s7">{</span>u <span class="s7">∈ </span>V <span class="s7">| </span><span class="p">(</span>u, v<span class="p">) </span><span class="s7">∈ </span>E<span class="s7">}</span><span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;">Let <span class="s3">d</span><span class="s8">G</span>(<span class="s3">u, v</span>) denote the distance between vertices <span class="s3">u, v</span>. If <span class="s3">u </span>and <span class="s3">v </span>are disconnected in <span class="s3">G</span>, we deﬁne <span class="s3">d</span><span class="s8">G</span>(<span class="s3">u, v</span>) = <span class="s7">∞</span>. The distance in graphs is a metric, thus it satisﬁes the triangle inequalities. That is, for any three vertices <span class="s3">s</span>, <span class="s3">t </span>and <span class="s3">v</span>,</p><p class="s3" style="padding-top: 5pt;text-indent: 0pt;text-align: right;">d<span class="s8">G</span><span class="p">(</span>s, t<span class="p">) </span><span class="s7">≤ </span>d<span class="s8">G</span><span class="p">(</span>s, v<span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>v, t<span class="p">)</span>, <span class="p">(1)</span></p><p class="s3" style="text-indent: 0pt;text-align: right;">d<span class="s8">G</span><span class="p">(</span>s, t<span class="p">) </span><span class="s7">≥ |</span>d<span class="s8">G</span><span class="p">(</span>s, v<span class="p">) </span><span class="s7">− </span>d<span class="s8">G</span><span class="p">(</span>v, t<span class="p">)</span><span class="s7">| </span>. <span class="p">(2)</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;">We deﬁne <span class="s3">P</span><span class="s8">G</span>(<span class="s3">s, t</span>) <span class="s7">⊆ </span><span class="s3">V </span>as the set of all vertices on the shortest paths between vertices <span class="s3">s </span>and <span class="s3">t</span>. In other words,</p><p class="s3" style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;text-align: center;"><span class="s19">P</span><span class="s10">G</span><span class="s12">(</span>s, t<span class="p">) = </span><span class="s7">{</span>v <span class="s7">∈ </span>V  <span class="s7">| </span>d<span class="s10">G</span><span class="s12">(</span>s, v<span class="p">) + </span>d<span class="s10">G</span><span class="s12">(</span>v, t<span class="p">) = </span>d<span class="s10">G</span><span class="s12">(</span>s, t<span class="p">)</span><span class="s7">} </span>.</p></li><li style="padding-top: 7pt;padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Problem Definition</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: right;">This paper studies the following problem: given a graph <span class="s3">G</span>, construct an index to eﬃciently answer distance queries, which asks the distance between an arbitrary pair of vertices. For simplicity of exposition, we mainly consider undi- rected, unweighted graphs. However, our algorithm can be easily extended for directed and/or  weighted graphs, and we discuss about this extension in Section 6. Furthermore, our method can answer not only distances but also shortest-</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">paths. This extension is also discussed in Section 6.</p></li><li style="padding-top: 6pt;padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Labels and 2-Hop Cover</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">The general framework of <span class="s3">2-hop cover </span>[13, 12, 2], or some- times called a <span class="s3">labeling method</span>, is as follows. Our method also follows this framework.</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;text-align: justify;"><span class="p">For each vertex </span>v<span class="p">, we precompute a </span>label <span class="p">denoted as </span>L<span class="p">(</span>v<span class="p">), </span><span class="s12">which is a set of pairs (</span>u, δ<span class="s10">uv </span><span class="s12">), where </span>u <span class="p">is a vertex and </span>δ<span class="s10">uv </span><span class="s12">=</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="s3">d</span><span class="s8">G</span>(<span class="s3">u, v</span>).  We sometimes call the set of labels <span class="s7">{</span><span class="s3">L</span>(<span class="s3">v</span>)<span class="s7">}</span><span class="s8">v</span><span class="s9">∈</span><span class="s10">V   </span>as</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">an <span class="s3">index</span>. To answer a distance query between vertices <span class="s3">s </span>and</p><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">t<span class="p">, we compute and answer Query(</span>s, t, L<span class="p">) deﬁned as follows,</span></p><p style="padding-top: 6pt;padding-left: 20pt;text-indent: 0pt;text-align: left;">Query(<span class="s3">s, t, L</span>) =</p><p style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">min <span class="s7">{</span><span class="s3">δ</span><span class="s8">v</span><span class="s10">s  </span>+ <span class="s3">δ</span><span class="s8">v</span><span class="s10">t  </span><span class="s7">| </span>(<span class="s3">v, δ</span><span class="s8">v</span><span class="s10">s</span>) <span class="s7">∈ </span><span class="s3">L</span>(<span class="s3">s</span>)<span class="s3">, </span>(<span class="s3">v, δ</span><span class="s8">v</span><span class="s10">t</span>) <span class="s7">∈ </span><span class="s3">L</span>(<span class="s3">t</span>)<span class="s7">} </span><span class="s3">.</span></p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">We deﬁne Query(<span class="s3">s, t, L</span>) = <span class="s7">∞ </span>if <span class="s3">L</span>(<span class="s3">s</span>) and <span class="s3">L</span>(<span class="s3">t</span>) do not share</p><p style="text-indent: 0pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_002.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-bottom: 1pt;padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="h3">Algorithm 1 </span><span class="p">Pruned BFS from </span>v<span class="s8">k</span><span class="s10">  </span><span class="s7">∈ </span>V  <span class="p">to create index </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">.</span></p><p style="padding-left: 6pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_003.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 10pt;text-indent: 0pt;line-height: 11pt;text-align: left;">1:  <span class="h3">procedure </span>PrunedBFS(<span class="s3">G</span>, <span class="s3">v</span><span class="s8">k</span><span class="s10"> </span>, <span class="s3">L</span><span class="s13">们</span><span class="s9">       </span>)</p><p style="padding-left: 10pt;text-indent: 0pt;line-height: 10pt;text-align: left;">2:  <span class="s3">Q </span><span class="s7">← </span>a queue with only one element <span class="s3">v</span><span class="s8">k </span>.</p><p style="padding-left: 10pt;text-indent: 0pt;line-height: 82%;text-align: left;">3:     <span class="s3">P </span>[<span class="s3">v</span><span class="s8">k </span>] <span class="s7">← </span>0 and <span class="s3">P </span>[<span class="s3">v</span>] <span class="s7">← ∞ </span>for all <span class="s3">v </span><span class="s7">∈ </span><span class="s3">V </span>(<span class="s3">G</span>) <span class="s7">\ {</span><span class="s3">v</span><span class="s8">k</span><span class="s10"> </span><span class="s7">}</span>. 4: <span class="s3">L</span><span class="s22">k </span>[<span class="s3">v</span>] <span class="s7">← </span><span class="s3">L</span><span class="s22">k</span><span class="s9">−</span><span class="s11">1</span>[<span class="s3">v</span>] for all <span class="s3">v </span><span class="s7">∈ </span><span class="s3">V </span>(<span class="s3">G</span>).</p><p class="s9" style="padding-left: 41pt;text-indent: 0pt;line-height: 5pt;text-align: left;">们 们</p><p class="s3" style="padding-left: 1pt;text-indent: 0pt;text-align: right;"><span class="p">any vertex. We call </span>L <span class="p">a </span>(distance-aware) 2-hop cover <span class="p">of </span>G <span class="s12">if </span><span class="p">Query(</span>s, t, L<span class="p">) = </span>d<span class="s10">G</span><span class="s12">(</span>s, t<span class="p">) for any pair of vertices </span>s <span class="p">and </span>t<span class="p">. For each vertex </span>v<span class="p">, we store the label </span>L<span class="p">(</span>v<span class="p">) so that pairs</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">5: <span class="h3">while </span><span class="s3">Q </span>is not empty <span class="h3">do</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">6: Dequeue <span class="s3">u </span>from <span class="s3">Q</span>.</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">7:              <span class="h3">if  </span>Query(<span class="s3">v</span><span class="s8">k</span><span class="s10"> </span>, <span class="s3">u</span>, <span class="s3">L</span><span class="s13">们</span><span class="s9"> </span><span class="s23">−</span><span class="s11">1</span>) <span class="s7">≤ </span><span class="s3">P </span>[<span class="s3">u</span>] <span class="h3">then</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">in it are sorted by their vertices. Then, we can compute</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Query(<span class="s3">s, t, L</span>) in <span class="s3">O</span>(<span class="s7">|</span><span class="s3">L</span>(<span class="s3">s</span>)<span class="s7">|</span>+<span class="s7">|</span><span class="s3">L</span>(<span class="s3">t</span>)<span class="s7">|</span>) time using a merge-join-</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">8: <span class="h3">continue</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">9:              <span class="s3">L</span><span class="s22">k</span><span class="s10"> </span>[<span class="s3">u</span>] <span class="s7">← </span><span class="s3">L</span><span class="s22">k</span><span class="s9">−</span><span class="s11">1</span>[<span class="s3">u</span>] <span class="s7">∪ {</span>(<span class="s3">v</span><span class="s8">k</span><span class="s3">, P </span>[<span class="s3">v</span><span class="s8">k</span><span class="s10"> </span>])<span class="s7">}</span></p><p class="s9" style="padding-left: 51pt;text-indent: 0pt;line-height: 4pt;text-align: left;">们 们</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark9">like algorithm.</a><a name="bookmark10">&zwnj;</a><a name="bookmark11">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: left;"><h2 style="display: inline;">ALGORITHM DESCRIPTION</h2><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s12">10: </span><span class="h3">for all </span>w <span class="s7">∈ </span>N<span class="s10">G</span><span class="s12">(</span>v<span class="p">) s.t. </span>P <span class="p">[</span>w<span class="p">] = </span><span class="s7">∞ </span><span class="h3">do</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">11: <span class="s3">P </span>[<span class="s3">w</span>] <span class="s7">← </span><span class="s3">P </span>[<span class="s3">u</span>] + 1.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_004.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 76%;text-align: left;">12: Enqueue <span class="s3">w </span>onto <span class="s3">Q</span>. 13: <span class="h3">return </span><span class="s3">L</span><span class="s13">们</span></p><ol id="l5"><li style="padding-top: 3pt;padding-left: 32pt;text-indent: -26pt;text-align: left;"><h2 style="display: inline;">Naive Landmark Labeling                                  <u>                                                                                 </u></h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;"><a name="bookmark12">We start with the following naive method.  As the in-  dex, we conduct a BFS from each vertex and store distances between all pairs. Though this method is too obvious and ineﬃcient, for the exposition of the next method, we explain the details.</a></p><p class="s3" style="padding-left: 14pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s12">Let</span><span class="p">  </span>V  <span class="p">= </span><span class="s7">{</span>v<span class="s11">1</span><span class="s19">,</span> v<span class="s11">2</span><span class="s19">,</span> . . . , v<span class="s10">n</span><span class="s25">}</span><span class="p">.  We  start  with  an  empty  index</span></p><h3 style="padding-bottom: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Algorithm 2 <span class="p">Compute a 2-hop cover index by pruned BFS.</span></h3><p style="padding-left: 5pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_005.png"/></span></p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0</p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 4pt;padding-left: 9pt;text-indent: 0pt;line-height: 59%;text-align: left;">1: <span class="h3">procedure </span>Preprocess(<span class="s3">G</span>) 2: <span class="s3">L</span><span class="s13">们 </span>[<span class="s3">v</span>] <span class="s7">← ∅ </span>for all <span class="s3">v </span><span class="s7">∈ </span><span class="s3">V </span>(<span class="s3">G</span>).</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3: <span class="h3">for </span><span class="s3">k </span>= 1<span class="s3">, </span>2<span class="s3">, . . . , n </span><span class="h3">do</span></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">4:              <span class="s3">L</span><span class="s13">们</span><span class="s9">   </span><span class="s7">← </span>PrunedBFS(<span class="s3">G</span>, <span class="s3">v</span><span class="s8">k</span><span class="s10"> </span>, <span class="s3">L</span><span class="s13">们</span><span class="s9">       </span>)</p><p class="s10" style="padding-left: 55pt;text-indent: 0pt;line-height: 4pt;text-align: left;">k k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">5:        <span class="h3">return </span><span class="s3">L</span><span class="s13">们</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s19">L</span><span class="s11">0</span><span class="s12">, </span><span class="p">where </span>L<span class="s11">0</span><span class="s12">(</span>u<span class="p">) = </span><span class="s7">∅ </span><span class="p">for every </span>u <span class="s7">∈ </span>V <span class="p">. Suppose we con-           </span><span class="s26">                                                                                                           </span></p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s12">duct</span><span class="p"> BFSs from vertices in the order of </span>v<span class="s11">1</span><span class="s19">,</span> v<span class="s11">2</span><span class="s19">,</span> . . . , v<span class="s10">n</span><span class="s12">.</span><span class="p"> After the </span>k<span class="p">-th BFS from a vertex </span>v<span class="s8">k </span><span class="p">, we add distances from </span>v<span class="s8">k</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">to labels of reached vertices, that is, <span class="s3">L</span><span class="s8">k </span>(<span class="s3">u</span>) = <span class="s3">L</span><span class="s8">k</span><span class="s9">−</span><span class="s11">1</span>(<span class="s3">u</span>) <span class="s7">∪</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 88%;text-align: justify;"><span class="s7">{</span><span class="p">(</span>v<span class="s8">k</span>, d<span class="s8">G</span><span class="p">(</span>v<span class="s8">k</span>, u<span class="p">))</span><span class="s7">} </span><span class="p">for each </span>u <span class="s7">∈ </span>V <span class="p">with </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">k</span>, u<span class="p">) </span><span class="s7">I</span><span class="p">= </span><span class="s7">∞</span><span class="p">. We  do not change labels for unreached vertices, that is, </span>L<span class="s8">k</span><span class="s10"> </span><span class="p">(</span>u<span class="p">) = </span>L<span class="s8">k</span><span class="s9">−</span><span class="s11">1</span><span class="p">(</span>u<span class="p">) for every </span>u <span class="s7">∈ </span>V <span class="p">with </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">k</span>, u<span class="p">) = </span><span class="s7">∞</span><span class="p">.</span></p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">L<span class="s8">n</span><span class="s10"> </span><span class="p">is the ﬁnal index. Obviously Query(</span>s, t, L<span class="s8">n</span><span class="p">) = </span>d<span class="s8">G</span><span class="p">(</span>s, t<span class="p">) for any pair of vertices </span>s <span class="p">and </span>t<span class="p">, and therefore, </span>L<span class="s8">n </span><span class="p">is a cor- rect 2-hop cover for exact distance queries. This is be-</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">cause, if <span class="s3">s </span>and <span class="s3">t </span>are reachable, then (<span class="s3">s, </span>0) <span class="s7">∈ </span><span class="s3">L</span><span class="s8">n</span>(<span class="s3">s</span>) and</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: justify;">visit vertex 6, since Query(2<span class="s3">, </span>6<span class="s3">, L</span><span class="s20">1</span>) = <span class="s3">d</span><span class="s8">G</span>(2<span class="s3">, </span>1) + <span class="s3">d</span><span class="s8">G</span>(1<span class="s3">, </span>6) =</p><p class="s12" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">3 = <span class="s3">d</span><span class="s10">G</span>(2<span class="s3">, </span><span class="p">6), we prune vertex 6 and we do not traverse edges from it. We also prune vertices 1 and 12. As the number of performed BFSs increases, we can conﬁrm that the search space gets smaller and smaller (Figure 1c,1d and 1e).</span></p><h2 style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">4.3 Proof of Correctness</h2><p style="padding-top: 1pt;padding-left: 13pt;text-indent: 0pt;text-align: center;">In the following, we prove that this method computes a</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">(<span class="s3">s, d</span><span class="s8">G</span>(<span class="s3">s, t</span>)) <span class="s7">∈ </span><span class="s3">L</span><span class="s8">n</span>(<span class="s3">t</span>) for example.</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">correct 2-hop cover index, that is, Query(<span class="s3">s, t, L</span><span class="s13">们</span><span class="s9">  </span>) = <span class="s3">d</span><span class="s8">G</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;">(<span class="s3">s, t</span>)</p><p class="s3" style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;"><span class="p">This method can be considered as a variant of landmark- based approximate methods, which we mentioned in Sec- tion 2.2. The standard landmark-based method can be re- garded as a method that precomputes </span>L<span class="s8">l </span><span class="p">instead of </span>L<span class="s8">n </span><span class="p">and estimates distance between </span>s <span class="p">and </span>t <span class="p">by Query(</span>s, t, L<span class="s8">l</span><span class="p">), where </span>l <span class="s7">《 </span>n <span class="p">is a parameter expressing the number of landmarks.</span></p><h2 style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">4.2 Pruned Landmark Labeling</h2><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;"><span class="p">Then, we introduce </span>pruning <span class="p">to the naive method. Simi- larly to the method above, we conduct </span>pruned <span class="p">BFSs from </span><span class="s12">vertices in the order of </span>v<span class="s11">1</span><span class="s19">, </span>v<span class="s11">2</span><span class="s19">, </span>. . . , v<span class="s10">n</span><span class="s12">. </span><span class="p">We start with an</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">for any pair of vertices <span class="s3">s </span>and <span class="s3">t</span>.</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 7pt;padding-left: 5pt;text-indent: 9pt;text-align: justify;"><span class="p">Theorem 4.1. </span>For any <span class="p">0 </span><span class="s7">≤ </span>k <span class="s7">≤ </span>n and for any pair of vertices s and t, <span class="p">Query(</span>s, t, L<span class="s22">k</span><span class="s10"> </span><span class="p">) = Query(</span>s, t, L<span class="s8">k</span><span class="s10"> </span><span class="p">)</span>.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 9pt;line-height: 8pt;text-align: justify;">Proof. We prove the theorem by mathematical induc-</p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0 0</p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0 0</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 86%;text-align: left;">tion on <span class="s3">k</span>. Since <span class="s3">L</span><span class="s13">们 </span>= <span class="s3">L </span>, it is true for <span class="s3">k </span>= 0.  Now  we assume it holds for 0<span class="s3">, </span>1<span class="s3">, . . . , k </span><span class="s7">− </span>1 and prove it also holds for</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">k<span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;">Let <span class="s3">s, t </span>be a pair of vertices. We assume these vertices are reachable in <span class="s3">G</span>, since otherwise the answer <span class="s7">∞ </span>can be obviously obtained. Let <span class="s3">j </span>be the smallest number such</p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0</p><p class="s11" style="text-indent: 0pt;line-height: 6pt;text-align: left;">0</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">empty  index  <span class="s3">L</span><span class="s13">们</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">and  create  an  index  <span class="s3">L</span><span class="s13">们</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">from  <span class="s3">L</span><span class="s13">们</span></p><p style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">using</p><p class="s8" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="p">that  (</span><span class="s3">v</span>j<span class="s3">, δ</span>v<span class="s27">j</span>s<span class="p">)  </span><span class="s7">∈ </span><span class="s3">L</span>k<span class="s10"> </span><span class="p">(</span><span class="s3">s</span><span class="p">)</span><span class="s3">, </span><span class="p">(</span><span class="s3">v</span>j<span class="s3">, δ</span>v<span class="s27">j</span>t<span class="p">)  </span><span class="s7">∈ </span><span class="s3">L</span>k<span class="s10"> </span><span class="p">(</span><span class="s3">t</span><span class="p">)  and  </span><span class="s3">δ</span>v<span class="s27">j</span>s<span class="s10">  </span><span class="p">+ </span><span class="s3">δ</span>v<span class="s27">j</span>t<span class="s10">  </span><span class="p">=</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">the information obtained by the <span class="s3">k</span>-th pruned BFS from ver-</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">tex <span class="s3">v</span><span class="s8">k</span><span class="s10"> </span>.</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 8pt;line-height: 94%;text-align: justify;">We prune BFSs as follows. Suppose that we have an index <span class="s3">L</span><span class="s22">k</span><span class="s9">−</span><span class="s11">1 </span>and we are conducting a BFS from <span class="s3">v</span><span class="s8">k </span>to create a new index <span class="s3">L</span><span class="s22">k </span>. Suppose that we are visiting a vertex <span class="s3">u </span>with</p><p class="s3" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 51%;text-align: left;"><span class="p">Query(</span>s, t, L<span class="s8">k</span><span class="s10"> </span><span class="p">).  We  prove  that  (</span>v<span class="s8">j</span>, δ<span class="s8">v</span><span class="s27">j</span><span class="s8">s</span><span class="p">)  and  (</span>v<span class="s8">j</span>, δ<span class="s8">v</span><span class="s27">j</span><span class="s8">t</span><span class="p">)  are also  included  in  </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>s<span class="p">)  and  </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>t<span class="p">).   This  immediately  leads</span></p><p class="s10" style="padding-left: 80pt;text-indent: 0pt;line-height: 1pt;text-align: left;">k k</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">to Query(<span class="s3">s, t, L</span><span class="s13">们</span><span class="s9"> </span>) = Query(<span class="s3">s, t, L</span><span class="s8">k</span><span class="s10"> </span>).  Due to the symmetry</p><p class="s10" style="padding-left: 70pt;text-indent: 0pt;line-height: 1pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="p">between </span>s <span class="p">and </span>t<span class="p">, we prove (</span>v<span class="s8">j</span>, δ<span class="s8">v</span><span class="s27">j</span><span class="s8">s</span><span class="p">) </span><span class="s7">∈ </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>s<span class="p">).</span></p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: center;"><span class="s12">F</span>irst,  for  any  <span class="s3">i &lt; j</span>,  we  prove  by  contradiction  that  <span class="s3">v</span><span class="s10">i  </span><span class="s25">I∈</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">distance </span>δ<span class="p">.  If Query(</span>v<span class="s8">k</span>, u, L<span class="s13">们</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;">) <span class="s7">≤ </span><span class="s3">δ</span>, then we prune <span class="s3">u</span>, that</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s19">P</span><span class="s10">G</span><span class="s12">(</span>v<span class="s10">j</span><span class="s19">,</span> s<span class="p">).  If we assume </span>v<span class="s10">i  </span><span class="s25">∈</span><span class="s7"> </span>P<span class="s10">G</span><span class="s12">(</span>v<span class="s10">j</span><span class="s19">,</span> s<span class="p">), from Inequality 1</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 4pt;text-align: left;"><span class="p">is,  we  do  not  add  (</span>v<span class="s8">k</span>, δ<span class="p">)  to  </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>u<span class="p">)  (i.e.   </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>u<span class="p">)  =  </span>L<span class="s13">们</span><span class="s9">       </span><span class="p">(</span>u<span class="p">))</span></p><p class="s10" style="padding-left: 128pt;text-indent: 0pt;line-height: 4pt;text-align: left;">k k k<span class="s9">−</span><span class="s11">1</span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">and we do not traverse any edge from vertex <span class="s3">u</span>. Otherwise,</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">Query(</span>s, t, L<span class="s8">k</span><span class="s10"> </span><span class="p">) = </span>d<span class="s8">G</span><span class="p">(</span>s, v<span class="s8">j</span><span class="s10"> </span><span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, t<span class="p">)</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">we set <span class="s3">L</span><span class="s13">们</span><span class="s9"> </span>(<span class="s3">u</span>) = <span class="s3">L</span><span class="s13">们</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">(<span class="s3">u</span>)<span class="s7">∪{</span>(<span class="s3">v</span><span class="s8">k</span><span class="s3">, δ</span>)<span class="s7">} </span>and traverse all the edges</p><p class="s10" style="padding-left: 38pt;text-indent: 0pt;line-height: 9pt;text-align: left;">k k<span class="s9">−</span><span class="s11">1</span></p><p class="s3" style="padding-left: 38pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">= </span>d<span class="s8">G</span><span class="p">(</span>s, v<span class="s8">i</span><span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">i</span>, v<span class="s8">j</span><span class="s10"> </span><span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, t<span class="p">)</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">from the vertex <span class="s3">u </span>as usual. As with the previous method, we</p><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 4pt;text-align: left;">d<span class="s8">G</span><span class="p">(</span>s, v<span class="s8">i</span><span class="p">) + </span>d<span class="s8">G</span><span class="p">(</span>v<span class="s8">i</span>, t<span class="p">)</span>.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">also set <span class="s3">L</span><span class="s13">们</span><span class="s9"> </span>(<span class="s3">u</span>) = <span class="s3">L</span><span class="s13">们</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="p">(</span>u<span class="p">) for all vertices </span>u <span class="s7">∈ </span>V <span class="p">that were not </span><span class="s28">≥</span></p><p class="s10" style="padding-left: 43pt;text-indent: 0pt;line-height: 6pt;text-align: left;">k k<span class="s9">−</span><span class="s11">1</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">visited in the <span class="s3">k</span>-th pruned BFS. This algorithm, performing</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">pruned BFSs, is described as Algorithm 1, and the whole preprocessing algorithm is described as Algorithm 2.</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">Since (</span>v<span class="s8">i</span>, d<span class="s8">G</span><span class="p">(</span>s, v<span class="s8">i</span><span class="p">)) </span><span class="s7">∈ </span>L<span class="s8">k</span><span class="s10"> </span><span class="p">(</span>s<span class="p">) and (</span>v<span class="s8">i</span>, d<span class="s8">G</span><span class="p">(</span>t, v<span class="s8">i</span><span class="p">)) </span><span class="s7">∈ </span>L<span class="s8">k</span><span class="s10"> </span><span class="p">(</span>t<span class="p">), this</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 81%;text-align: left;"><span class="p">contradicts to the assumption of the minimality of </span>j<span class="p">. There- </span><span class="s12">fore, </span>v<span class="s10">i </span><span class="s25">I∈ </span>P<span class="s10">G</span><span class="s12">(</span>v<span class="s10">j</span><span class="s19">,</span> s<span class="p">) holds for any </span>i &lt; j<span class="p">.</span></p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Figure 1 shows examples of pruned BFSs. The ﬁrst pruned BFS from vertex 1 visits all the vertices (Figure 1a). During the next pruned BFS from vertex 2 (Figure 1b), when we</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;line-height: 59%;text-align: left;"><span class="p">Now  we  prove  that  (</span>v<span class="s8">j</span>, d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">))  </span><span class="s7">∈ </span>L<span class="s22">k</span><span class="s10"> </span><span class="p">(</span>s<span class="p">).   Actually,  we prove  a  more  general  fact:   (</span>v<span class="s8">j</span>, d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, u<span class="p">))  </span><span class="s7">∈  </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>u<span class="p">)  for  all</span></p><p class="s3" style="text-indent: 0pt;line-height: 9pt;text-align: left;">P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">).   Note  that  </span>s  <span class="s7">∈</span></p><p class="s3" style="text-indent: 0pt;line-height: 9pt;text-align: left;">P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">).   Note  that  </span>s  <span class="s7">∈</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 131pt;text-indent: 0pt;text-align: left;">P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">).   Suppose  that  we</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="94" height="105" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_006.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="94" height="105" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_007.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="94" height="105" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_008.png"/></span></p><p class="s29" style="padding-top: 4pt;padding-left: 30pt;text-indent: 0pt;line-height: 7pt;text-align: left;">6 4 6 4 6 4</p><p class="s29" style="padding-left: 72pt;text-indent: 0pt;line-height: 7pt;text-align: left;">5 5 5</p><p class="s29" style="padding-left: 21pt;text-indent: 0pt;line-height: 7pt;text-align: left;">7 7 7</p><p class="s29" style="text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p class="s29" style="text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s29" style="padding-left: 63pt;text-indent: 0pt;line-height: 5pt;text-align: left;">8 8 8</p><p class="s29" style="padding-left: 79pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s30">1 </span>2 <span class="s30">1</span> 2</p><p class="s29" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9 9 9</p><p style="text-indent: 0pt;text-align: left;"><span><img width="94" height="105" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_009.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="94" height="105" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_010.png"/></span></p><p class="s29" style="padding-top: 4pt;padding-left: 30pt;text-indent: 0pt;line-height: 7pt;text-align: left;">6 4 6 4</p><p class="s29" style="padding-left: 72pt;text-indent: 0pt;line-height: 7pt;text-align: left;">5 5</p><p class="s29" style="padding-left: 21pt;text-indent: 0pt;line-height: 7pt;text-align: left;">7 7</p><p class="s29" style="text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p class="s29" style="text-indent: 0pt;line-height: 7pt;text-align: left;">1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s29" style="padding-left: 63pt;text-indent: 0pt;line-height: 5pt;text-align: left;">8 8</p><p class="s29" style="padding-left: 79pt;text-indent: 0pt;line-height: 9pt;text-align: left;">2 <span class="s30">1</span> 2</p><p class="s29" style="padding-left: 20pt;text-indent: 0pt;line-height: 8pt;text-align: left;">9 9</p><p class="s31" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">12<span class="s29"> 10 </span></p><p class="s31" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">12<span class="s29"> 10 </span></p><p class="s31" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">12<span class="s29"> 10 </span></p><p class="s31" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">12<span class="s29"> 10 </span></p><p class="s31" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">12<span class="s29"> 10 </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 60pt;text-indent: 0pt;line-height: 7pt;text-align: left;">11 11 11 </p><p class="s29" style="padding-left: 41pt;text-indent: 0pt;line-height: 7pt;text-align: left;">3 3 3</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 60pt;text-indent: 0pt;line-height: 7pt;text-align: left;">11 11 </p><p class="s29" style="padding-left: 41pt;text-indent: 0pt;line-height: 7pt;text-align: left;">3 3</p><ol id="l6"><li style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">First BFS from ver- tex 1. We visited all the vertices.</p></li><li style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">Second BFS from vertex 2. We did not add labels to ﬁve ver- tices.</p></li><li style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">Third BFS from vertex 3. We only vis- ited the lower half of the vertices.</p></li><li style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">Fourth BFS from vertex 4. This time we only visited the higher half.</p></li><li style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">Fifth BFS from ver- tex 5. The search space was even smaller.</p></li></ol><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Figure 1: Examples of pruned BFSs. Yellow vertices denote the roots, blue vertices denote those which we visited and labeled, red vertices denote those which we visited but pruned, and gray vertices denote those which are already used as roots.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 80%;text-align: justify;"><a name="bookmark13"><span class="s12">a</span></a><span class="p">re  conducting  the  </span>j<span class="p">-th  pruned  BFS  from  </span>v<span class="s10">j   </span><span class="s12">to</span><span class="p">  create  </span>L<span class="s10">j </span><span class="s12">. </span><span class="p">Let  </span>u  <span class="s7">∈  </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">).   Since  </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, u<span class="p">)  </span><span class="s7">⊆  </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">)  and  </span>v<span class="s8">i</span><span class="s10">   </span><span class="s7">I∈ </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">)  for  any  </span>i  &lt;  j<span class="p">,  we  have  </span>v<span class="s8">i</span><span class="s10">   </span><span class="s7">I∈  </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, u<span class="p">)  for  any</span><a name="bookmark14">&zwnj;</a><a name="bookmark15">&zwnj;</a><a name="bookmark16">&zwnj;</a><a name="bookmark17">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Closeness: We order vertices from those with the highest closeness centrality. Since computing exact closeness cen- trality for all vertices costs <span class="s3">O</span>(<span class="s3">nm</span>) time, which is too ex-</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">j<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">j<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">i  &lt;  j<span class="p">.    Therefore,  Query(</span>v<span class="s8">j</span>, u, L<span class="s13">们</span></p><p class="s3" style="text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="p">)  </span>&gt;  d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, u<span class="p">) holds.</span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">pensive for large-scale networks, we approximate closeness</p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="9" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_011.png"/></span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 64%;text-align: left;"><span class="p">Thus,  we  visit  all  vertices  </span>u  <span class="s7">∈ </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, s<span class="p">)  without  pruning, and it follows that (</span>v<span class="s8">j</span>, d<span class="s8">G</span><span class="p">(</span>v<span class="s8">j</span>, u<span class="p">)) </span><span class="s7">∈ </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>u<span class="p">) </span><span class="s7">⊆ </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>u<span class="p">).</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">centrality by randomly sampling a small number of vertices</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: left;">and computing distances from those vertices to all vertices.</p><p class="s10" style="padding-left: 156pt;text-indent: 0pt;line-height: 2pt;text-align: left;">j k</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">As a corollary, our method is proved to be an exact dis- tance querying method by instantiating the theorem with <span class="s3">k </span>= <span class="s3">n</span>.</p><p style="padding-top: 7pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">Corollary 4.1. <span class="s3">For any pair of vertices s and t,</span></p><h2 style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">4.5 Efficient Implementation</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">4.5.1 Preprocessing (Algorithm 1)</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><h3 style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">Index:  <span class="p">First, in the description above, we treated </span><span class="s3">L</span><span class="s13">们</span></h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;">and</p><p style="padding-left: 71pt;text-indent: 0pt;line-height: 2pt;text-align: left;">Query(<span class="s3">s, t, L</span><span class="s13">们</span><span class="s9">  </span>) = <span class="s3">d</span></p><p style="padding-left: 4pt;text-indent: 0pt;line-height: 2pt;text-align: left;">(<span class="s3">s, t</span>)<span class="s3">.                                    </span><span class="s33">L</span><span class="s34">们</span><span class="s9">                                                                                                   们                   们</span></p><p class="s22" style="padding-left: 268pt;text-indent: -143pt;line-height: 74%;text-align: left;"><span class="s35">n           G                                      </span><span class="s10"> </span>k  <span class="p">separately and explained as if we  copy </span><span class="s3">L</span>k<span class="s9">−</span><span class="s11">1  </span><span class="p">to </span><span class="s3">L</span>k  <span class="p">for   simplicity of explanation. However, this copy can be easily</span></p><ol id="l7"><ol id="l8"><li style="padding-left: 32pt;text-indent: -26pt;line-height: 13pt;text-align: left;"><h2 style="display: inline;">Vertex Ordering Strategies</h2><ol id="l9"><li style="padding-top: 7pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Motivation</p><p class="s11" style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;"><span class="p">In the algorithm description above, we conducted pruned </span><span class="s12">BFSs from vertices in the order of </span><span class="s3">v</span>1<span class="s19">, v</span>2<span class="s19">, </span><span class="s3">. . . , v</span><span class="s10">n</span><span class="s12">. </span><span class="p">We can freely choose the order, and moreover it turns out that the order is crucial for the performance of this method as we will see in the experimental results presented in Section 7.3.4.</span></p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">To decide the order of vertices, we should select <span class="s3">central </span>vertices ﬁrst in the sense that many shortest paths pass through these vertices. Since we would like to prune later BFSs as much as possible, we want to <span class="s3">cover </span>larger part of pairs of vertices by earlier BFSs. That is, the earlier labels should oﬀer correct distances for as many pairs of vertices as possible, and therefore the earlier vertices should be those who many shortest paths passes through.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">This problem is quite similar to the problem of selecting good landmarks for landmark-based approximate methods, which is discussed well in [29]. In that problem, we also want to select good landmarks so that many shortest path passes through these vertices or nearby vertices.</p></li><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Strategies</p></li></ol></li></ol></ol><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Based on the results on landmark-based methods [29], we propose and examine the following three strategies. In ex- periments, we basically use the Degree strategy, and com- pare them empirically in Section 7.3.4.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">avoided by keeping only one index and adding labels to it after each pruned BFS.</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="h3">Initialization: </span>Another important note is to avoid <span class="s3">O</span>(<span class="s3">n</span>) time initialization for each pruned BFS. The reason why this method is eﬃcient is that the search space of pruned BFSs gets much  more smaller than the whole graph.   However   if we spend <span class="s3">O</span>(<span class="s3">n</span>) time for initialization, it would be the  bottleneck. What we  want  to do in the initialization is to  set all values in the array storing tentative distances as <span class="s7">∞ </span>(Line 3). We can avoid <span class="s3">O</span>(<span class="s3">n</span>) time initialization as follows. Before we conduct the ﬁrst pruned BFS, we set all values in the array <span class="s3">P </span>as <span class="s7">∞</span>. (This takes <span class="s3">O</span>(<span class="s3">n</span>) time but we do this only once.) Then, during each pruned BFS, we store all vertices we visited, and after each pruned BFS, we set <span class="s3">P </span>[<span class="s3">v</span>] as <span class="s7">∞ </span>for all each vertex <span class="s3">v </span>we have visited.</p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Arrays: <span class="p">For the array storing tentative distances, it is bet- ter to use 8-bit integers. Since networks of our interest are small-world networks, 8-bit integers are enough to represent distances. Using 8-bit integers, the array ﬁts into low-level cache memories of recent computers, resulting in the speed up by reducing cache misses.</span></h3><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><span class="h3">Querying: </span>To evaluate queries for pruning (Line 7), it is faster to use an algorithm diﬀerent from the normal one since we can exploit the fact here that we issue many queries whose one endpoint is always <span class="s3">v</span><span class="s8">k </span>. Before starting the <span class="s3">k</span>-th pruned BFS from <span class="s3">v</span><span class="s8">k </span>, we prepare an array <span class="s3">T </span>of length <span class="s3">n</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><span class="s12">initialized</span> with <span class="s7">∞ </span>and set <span class="s3">T </span>[<span class="s3">w</span>] = <span class="s3">δ</span><span class="s10">wv</span><span class="s36">k</span><span class="s37"> </span><span class="s12">for</span> all (<span class="s3">w, δ</span><span class="s10">wv</span><span class="s36">k</span><span class="s37"> </span><span class="s12">)</span> <span class="s7">∈</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">Random:  We order vertices randomly.  We use this method           <span class="s38">L</span><span class="s39">们</span><span class="s9">                                                                                们</span></p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">as a baseline to show the signiﬁcance of other strategies.</p><p class="s3" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s22">k</span><span class="s9">−</span><span class="s11">1</span><span class="p">(</span>v<span class="s8">k</span><span class="s10"> </span><span class="p">). To evaluate Query(</span>v<span class="s8">k</span>, u, L<span class="s22">k</span><span class="s9">−</span><span class="s11">1</span><span class="p">), for all (</span>w, δ<span class="s8">wu</span><span class="p">) </span><span class="s7">∈</span></p><p class="s40" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s9">们</span></p><p class="s40" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s9">们</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 12pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s22">k</span><span class="s9">−</span><span class="s11">1</span>(<span class="s3">u</span>), we compute <span class="s3">δ</span><span class="s8">wu </span>+ <span class="s3">T </span>[<span class="s3">w</span>] and return the minimum.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Degree: We order vertices from those with higher degree.</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Though  normal  querying  algorithm  takes  <span class="s3">O</span>(<span class="s7">|</span><span class="s3">L</span><span class="s13">们</span></p><p style="text-indent: 0pt;line-height: 9pt;text-align: left;">(<span class="s3">v</span><span class="s8">k </span>)<span class="s7">| </span>+</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">The idea behind this strategy is that vertices with higher</p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">|<span class="s3">L</span></p><p class="s7" style="text-indent: 0pt;line-height: 9pt;text-align: left;">|<span class="s3">L</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 14pt;text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">k<span class="s9">−</span><span class="s11">1</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 10pt;text-align: left;">(<span class="s3">u</span>)<span class="s7">|</span>)  time,  this  algorithm  runs  in  <span class="s3">O</span>(<span class="s7">|</span><span class="s3">L</span><span class="s13">们</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;">(<span class="s3">u</span>)<span class="s7">|</span>) time.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">degree have stronger connection to many other vertices and</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">therefore many shortest paths would pass through them.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">As Line 7 is the bottleneck of the algorithm, this technique</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">speeds up preprocessing by about twice. Note that <span class="s3">T </span>should</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">be represented by 8-bit integers as the same reason described above, and <span class="s3">O</span>(<span class="s3">n</span>) time initialization for array <span class="s3">T </span>should be avoided in the same way for array <span class="s3">P </span>.</p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark22">Prefetching: </a><span class="p">Unfortunately, we cannot ﬁt the index and the adjacency lists into the cache memory for large-scale net- works. However, we can manually prefetch them to reduce the cache misses, since vertices which we will access soon are in the queue. Manual prefetching speeds up preprocessing by about 20%.</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Thread-Level Parallelism: <span class="p">As with parallel BFS algo- rithms [3], the pruned BFS algorithm can be also paral-  lelized. However, for simple experimental analysis and fair comparison to previous methods, we did not parallelize our</span></h3><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">landmarks, it attains remarkable average precision for real- world networks. From the following theorem, we can observe that our method is eﬃcient for networks whose distance can be answered by landmark-based methods with such high pre- cision, and our method also can exploit the existence of these central vertices.</p><p class="s3" style="padding-top: 7pt;padding-left: 5pt;text-indent: 9pt;line-height: 11pt;text-align: justify;"><span class="p">Theorem 4.3. </span>If we assume that the standard landmark- based approximate method can answer correct distances to <span class="p">(1 </span><span class="s7">− </span>E<span class="p">)</span>n<span class="s14">2</span><span class="s11"> </span>pairs (out of n<span class="s14">2</span><span class="s11"> </span>pairs) using k landmarks, then the pruned landmark labeling method gives an index with average label size O<span class="p">(</span>k <span class="p">+ </span>En<span class="p">)</span>.</p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Proof Sketch. After conducting pruned BFSs from the</p><p class="s11" style="padding-left: 77pt;text-indent: 0pt;line-height: 2pt;text-align: center;">2</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">implementation in the experiments.</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">k <span class="p">landmark vertices ﬁrst, at most </span>En</p><p style="padding-left: 4pt;text-indent: 0pt;line-height: 5pt;text-align: left;">pairs are added to the</p><p style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark18"><span class="h3">Sorting Labels: </span></a>When applying merge-join-like algorithms to answer queries, pairs in labels need to be sorted by ver- tices. However, actually we do not need to sort explicitly by storing ranks of vertices instead of vertices. That is, when adding a pair (<span class="s3">u, δ</span>) in the <span class="s3">i</span>-th pruned BFS from vertex <span class="s3">u</span>, we add a pair (<span class="s3">i, δ</span>) instead. Then, since pairs are added from vertices with lower rank to those with higher rank, all the labels are automatically sorted.<a name="bookmark19">&zwnj;</a><a name="bookmark20">&zwnj;</a><a name="bookmark21">&zwnj;</a><a name="bookmark23">&zwnj;</a></p><p class="s32" style="padding-top: 6pt;padding-left: 8pt;text-indent: 0pt;text-align: justify;">4.5.2 Querying</p><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="h3">Sentinel: </span><span class="p">We add a dummy entry, (</span>n, <span class="s7">∞</span><span class="p">), to the label </span>L<span class="p">(</span>v<span class="p">) for each </span>v <span class="s7">∈ </span>V <span class="p">. This dummy entry ensures that we ﬁnd the same vertices, </span>n<span class="p">, in the end when scanning two labels. Thus we can avoid to separately test whether we have scanned till  the end.</span></p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="h3">Arrays: </span>For each label <span class="s3">L</span>(<span class="s3">v</span>), it is faster to store the array for vertices and the array for distances separately since dis- tances are only used when vertices match [1]. We also align</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">index in total, since we never add pairs whose distance can</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">be answered from current labels. <span><img width="10" height="9" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_012.png"/></span></p><p class="s32" style="padding-top: 5pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">4.6.3 Exploiting Small Tree-width of Fringes</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Finally, we show a theoretical evidence that our method can also exploit tree-like fringes eﬃciently. As we men- tioned in Section 2.1, methods based on tree decomposi- tions were proposed for distance queries [41, 4]. Both of them extend methods which work eﬃciently for graphs of small tree-width, and they exploit low tree-width of fringes in real-world networks by tree decompositions. Interestingly, though we do not use tree decompositions explicitly, we can prove that our method can eﬃciently process graphs of small tree-width. Thus, our method implicitly exploits this prop- erty of real-world networks too. For deﬁnitions of tree-width and tree decompositions, see [35].</p><p style="padding-top: 7pt;padding-left: 5pt;text-indent: 9pt;text-align: justify;">Theorem 4.4. <span class="s3">Let w be the tree-width of G. There is an order of vertices with which the pruned landmark labeling</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">arrays to cache lines.</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">method takes O<span class="p">(</span>wm <span class="p">log </span>n <span class="p">+ </span>w<span class="s14">2</span>n <span class="p">log</span><span class="s14">2</span></p><p class="s3" style="text-indent: 0pt;line-height: 5pt;text-align: left;">n<span class="p">) </span>time for preprocess-</p><ol id="l10"><ol id="l11"><li style="padding-top: 9pt;padding-left: 32pt;text-indent: -26pt;text-align: left;"><h2 style="display: inline;">Theoretical Properties</h2><ol id="l12"><li style="padding-top: 8pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Minimality</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">ing, stores an index with O<span class="p">(</span>wn <span class="p">log </span>n<span class="p">) </span>space, and answers</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">each query in O<span class="p">(</span>w <span class="p">log </span>n<span class="p">) </span>time.</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 9pt;line-height: 11pt;text-align: justify;">Proof Sketch. The key ingredient is the centroid de- composition [18] of the tree decomposition. First we con- duct pruned BFSs from all the vertices in a centroid bag.</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 15pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Theorem  4.2.  <span class="s3">Let L</span><span class="s13">们</span></p><p class="s40" style="padding-left: 5pt;text-indent: 0pt;line-height: 4pt;text-align: left;">L<span class="s9">们</span></p><p class="s3" style="padding-left: 1pt;text-indent: 0pt;line-height: 7pt;text-align: left;">be the index defined in Section 4.2.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Then, later pruned BFSs never go beyond the bag. There-</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">n</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 6pt;line-height: 62%;text-align: justify;"><span class="s8">n</span><span class="s10"> </span>is minimal in the sense that, for any vertex v and for any pair <span class="p">(</span>u, δ<span class="s8">uv </span><span class="p">) </span><span class="s7">∈ </span>L<span class="s13">们 </span><span class="p">(</span>v<span class="p">)</span>, there is a pair of vertices <span class="p">(</span>s, t<span class="p">) </span>such that, if we remove <span class="p">(</span>u, δ<span class="s8">uv </span><span class="p">) </span>from L<span class="s13">们 </span><span class="p">(</span>v<span class="p">)</span>, we cannot answer</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">the correct distance between s and t.</p><p style="padding-top: 6pt;text-indent: 0pt;line-height: 2pt;text-align: right;"><span class="s8">n</span>(<span class="s3">v </span>). This implies</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">fore, we can consider as we divided the tree decomposition into disjoint components, each having at most half of the bags.  We  recursively repeat this procedure.  The number   of recurrences is at most <span class="s3">O</span>(log <span class="s3">n</span>). Since we add at most <span class="s3">w </span>pairs to each vertex at each depth of recursion, the number</p><p class="s3" style="padding-left: 15pt;text-indent: 0pt;line-height: 2pt;text-align: left;"><span class="s12">P</span><span class="p">roof.  Let </span>v<span class="s10">i  </span><span class="s25">∈</span><span class="s7"> </span>V  <span class="p">and (</span>v<span class="s10">j</span><span class="s19">,</span> δ<span class="s10">v</span><span class="s36">j</span><span class="s10">v</span><span class="s36">i</span><span class="s37"> </span><span class="s12">)</span><span class="p"> </span><span class="s7">∈ </span>L<span class="s41">们</span><span class="s9">      </span><span class="s10">i</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span class="s19">j</span>  &lt;  i<span class="p">.   We  show  that  if  we  remove  (</span>v<span class="s10">j</span><span class="s19">,</span> δ<span class="s10">v</span><span class="s36">j</span><span class="s10">v</span><span class="s36">i</span><span class="s37"> </span><span class="s12">)</span><span class="p">  from  </span>L<span class="s41">们</span><span class="s9">      </span><span class="s10">i</span></p><p style="padding-left: 5pt;text-indent: 219pt;line-height: 5pt;text-align: left;"><span class="s8">n</span>(<span class="s3">v </span>)</p><p class="s12" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">th<span class="p">en we cannot answer the correct distance between </span><span class="s3">v</span><span class="s10">i  </span>an<span class="p">d</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: center;">v<span class="s8">j</span><span class="s10"> </span><span class="p">.   We  claim  that,  for  any  </span>k  <span class="s7">I</span><span class="p">=  </span>j<span class="p">,  either  (i)  (</span>v<span class="s8">k</span>, δ<span class="s8">v</span><span class="s27">k</span><span class="s8">v</span><span class="s27">i</span><span class="s37"> </span><span class="p">)  </span><span class="s7">I∈</span></p><p class="s8" style="padding-left: 12pt;text-indent: 0pt;line-height: 2pt;text-align: center;">n<span class="p">(</span><span class="s3">v</span>i<span class="p">)  or  (</span><span class="s3">v</span>k<span class="s3">, δ</span>v<span class="s27">k</span>v<span class="s27">j</span><span class="s37"> </span><span class="p">)  </span><span class="s7">I∈  </span><span class="s3">L</span>n<span class="p">(</span><span class="s3">v</span>j<span class="s10"> </span><span class="p">)  holds,  or  (ii)  </span><span class="s3">d</span>G<span class="p">(</span><span class="s3">v</span>i<span class="s3">, v</span>k<span class="s10"> </span><span class="p">) +</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: justify;">of pairs in each label is <span class="s3">O</span>(<span class="s3">w </span>log <span class="s3">n</span>). At each depth of re-</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="p">cursion, the total time consumed by pruned BFSs from the current components is </span>O<span class="p">(</span>wm <span class="p">+ </span>w<span class="s14">2</span>n <span class="p">log </span>n<span class="p">), where </span>O<span class="p">(</span>wm<span class="p">) is the time for traversing edges and </span>O<span class="p">(</span>w<span class="s14">2</span>n <span class="p">log </span>n<span class="p">) is the time</span></p><p class="s40" style="padding-left: 5pt;text-indent: 0pt;line-height: 2pt;text-align: left;">L<span class="s9">们</span></p><p style="padding-left: 16pt;text-indent: 0pt;line-height: 2pt;text-align: left;">(<span class="s3">v , v </span>) <span class="s3">&gt; d</span></p><p class="s9" style="padding-left: 45pt;text-indent: 0pt;line-height: 2pt;text-align: left;">们</p><p style="padding-top: 2pt;padding-left: 4pt;text-indent: 0pt;line-height: 2pt;text-align: left;">(<span class="s3">v , v </span>) holds. Suppose <span class="s3">k &lt; j </span>and assume</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 4pt;text-align: left;">for pruning tests. <span><img width="10" height="9" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_013.png"/></span></p><p class="s19" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">d<span class="s10">G k j</span></p><p class="s10" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">G i j</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">们</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 85%;text-align: justify;"><span class="p">that (ii) does not hold. Then, (i) must hold since otherwise the </span>j<span class="p">-th BFS should have pruned vertex </span>v<span class="s8">i</span><span class="s10"> </span><span class="p">and (</span>v<span class="s8">j</span>, δ<span class="s8">v</span><span class="s27">j</span><span class="s8">v</span><span class="s27">i</span><span class="s37"> </span><span class="p">) </span><span class="s7">I∈ </span>L<span class="s8">n</span><span class="p">(</span>v<span class="s8">i</span><span class="p">). Suppose </span>k &gt; j <span class="p">and assume that (ii) does not hold.</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">j</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">j</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: justify;"><span class="p">Then,  </span>v<span class="s8">k</span><span class="s10">   </span><span class="s7">∈  </span>P<span class="s8">G</span><span class="p">(</span>v<span class="s8">i</span>, v<span class="s8">j</span><span class="s10"> </span><span class="p">)  and  therefore  (</span>v<span class="s8">j</span>, δ<span class="s8">v</span><span class="s27">j</span><span class="s8">v</span><span class="s27">k</span><span class="s37"> </span><span class="p">)  </span><span class="s7">∈  </span>L<span class="s13">们</span><span class="s9"> </span><span class="p">(</span>v<span class="s8">k</span><span class="s10"> </span><span class="p">),</span></p></li></ol></li></ol></ol></li></ol></li><li style="padding-top: 7pt;padding-left: 26pt;text-indent: -20pt;text-align: left;"><h2 style="display: inline;">BIT-PARALLEL LABELING</h2></li></ol><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: left;">To further speed up both preprocessing and querying, we propose an optimizing method which exploits bit-level par-</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">thus the <span class="s3">k</span>-th BFS prunes vertex <span class="s3">v</span><span class="s8">j</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="10" height="9" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_014.png"/></span></p><p class="s40" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s9">们</span></p><p class="s40" style="text-indent: 0pt;line-height: 9pt;text-align: left;">L<span class="s9">们</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s8" style="padding-left: 12pt;text-indent: 0pt;line-height: 11pt;text-align: left;">n<span class="p">(</span><span class="s3">v</span>j<span class="s10"> </span><span class="p">).</span></p><p class="s3" style="text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="p">,  leading  to  (</span>v<span class="s8">k</span>, δ</p><p class="s10" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">v<span class="s36">k</span>v<span class="s36">j</span></p><p style="text-indent: 0pt;line-height: 8pt;text-align: left;">) <span class="s7">I∈</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">allelism. Bit-parallel methods are those that perform diﬀer- ent calculations on diﬀerent bits in the same word to exploit the fact that computers can perform bitwise operations on</p><ol id="l13"><ol id="l14"><ol id="l15"><li style="padding-left: 41pt;text-indent: -32pt;line-height: 8pt;text-align: left;"><p class="s32" style="display: inline;">Exploiting Existence of Highly Central Vertices</p></li></ol></ol></ol><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Then, we compare our method with landmark-based meth- ods to show that our method also can exploit the existence of highly central vertices. We consider the standard landmark- based method [29,40], which do not use any path heuristics. As we stated in Section 2.2, by selecting central vertices as</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">a word at once. The word length is commonly 32 or 64 in computers of the day.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">In the following, we denote the number of bits in a com- puter word as <span class="s3">b </span>and assume bitwise operations on bit vectors of length <span class="s3">b </span>can be done in <span class="s3">O</span>(1) time. We propose an algo- rithm to conduct BFSs and compute labels from <span class="s3">b </span>+ 1 roots</p><p style="text-indent: 0pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_015.png"/></span></p><p class="s43" style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><span class="s42">Algorithm 3 </span><span class="s26">Bit-parallel BFS from </span>r <span class="s44">∈ </span>V <span class="s26">and </span>S<span class="s45">r</span><span class="s46"> </span><span class="s44">⊆ </span>N<span class="s45">G</span><span class="s26">(</span>r<span class="s26">).</span></p><p style="padding-top: 4pt;padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1: <span class="h3">procedure </span>Bp-BFS(<span class="s3">G</span>, <span class="s3">r</span>, <span class="s3">S</span><span class="s8">r </span>)</p><p class="s3" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="p">2: (</span>P <span class="p">[</span>v<span class="p">]</span>, S<span class="s13">−</span><span class="s11">1</span><span class="p">[</span>v<span class="p">]</span>, S<span class="s14">0</span><span class="p">[</span>v<span class="p">]) </span><span class="s7">← </span><span class="p">(</span><span class="s7">∞</span>, <span class="s7">∅</span>, <span class="s7">∅</span><span class="p">) for all </span>v <span class="s7">∈ </span>V</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">discussed in Section 4.1. We introduce pruning later in Sec- tion 5.4.</p><p class="s3" style="padding-left: 14pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="p">Let </span>r <span class="s7">∈ </span>V <span class="p">be a vertex and </span>S<span class="s8">r</span><span class="s10"> </span><span class="s7">⊆ </span>N<span class="s8">G</span><span class="p">(</span>r<span class="p">) be a subset of</span></p><p class="s10" style="padding-left: 65pt;text-indent: 0pt;line-height: 3pt;text-align: left;">r r</p><p class="s9" style="padding-left: 65pt;text-indent: 0pt;line-height: 3pt;text-align: left;">−<span class="s11">1 0</span></p><p style="padding-left: 65pt;text-indent: 0pt;line-height: 6pt;text-align: left;">neighbors of <span class="s3">r </span>with size at most <span class="s3">b</span>. We explain an algorithm</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 6pt;text-align: left;">3: (<span class="s3">P </span>[<span class="s3">r</span>]<span class="s3">, S</span><span class="s8">r</span><span class="s10"> </span>[<span class="s3">r</span>]<span class="s3">, S</span><span class="s8">r</span><span class="s10"> </span>[<span class="s3">r</span>]) <span class="s7">← </span>(0<span class="s3">, </span><span class="s7">∅</span><span class="s3">, </span><span class="s7">∅</span>)</p><p class="s9" style="padding-left: 9pt;text-indent: 0pt;line-height: 6pt;text-align: left;">−<span class="s11">1 0</span></p><p class="s3" style="padding-left: 9pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span class="p">4:        (</span>P <span class="p">[</span>v<span class="p">]</span>, S<span class="s13">−</span><span class="s11">1</span><span class="p">[</span>v<span class="p">]</span>, S<span class="s14">0</span><span class="p">[</span>v<span class="p">]) </span><span class="s7">← </span><span class="p">(1</span>, <span class="s7">{</span>v<span class="s7">} </span>, <span class="s7">∅</span><span class="p">) for all </span>v <span class="s7">∈ </span>S</p><p class="s3" style="padding-left: 9pt;text-indent: 0pt;line-height: 7pt;text-align: left;"><span class="p">to compute </span>d<span class="s8">G</span><span class="p">(</span>r, v<span class="p">), </span>S<span class="s8">r </span><span class="p">(</span>v<span class="p">) and </span>S<span class="s8">r </span><span class="p">(</span>v<span class="p">) for all </span>v <span class="s7">∈ </span>V <span class="p">that</span></p><p class="s10" style="padding-left: 65pt;text-indent: 0pt;line-height: 3pt;text-align: left;">r r r</p><p class="s3" style="padding-top: 2pt;padding-left: 9pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="p">5:   </span>Q<span class="s20">0</span>, Q<span class="s20">1 </span><span class="s7">← </span><span class="p">an empty queue 6: Enqueue </span>r <span class="p">onto </span>Q<span class="s20">0</span></p><p class="s7" style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">are reachable from </span>{<span class="s3">r</span>} ∪ <span class="s3">S</span><span class="s8">r</span><span class="s10"> </span><span class="p">. The algorithm is described as</span></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Algorithm 3. Basically we conduct a BFS from <span class="s3">r </span>computing</p><p class="s3" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="p">7:  Enqueue </span>v <span class="p">onto </span>Q<span class="s20">1 </span><span class="p">for all </span>v <span class="s7">∈ </span>S<span class="s8">r</span></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 6pt;text-align: left;">sets <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span></p><p style="padding-left: 1pt;text-indent: 0pt;line-height: 6pt;text-align: left;">and <span class="s3">S</span><span class="s14">0</span>.</p><p style="padding-top: 2pt;padding-left: 9pt;text-indent: 0pt;line-height: 10pt;text-align: left;">8: <span class="h3">while </span><span class="s3">Q</span><span class="s20">0 </span>is not empty <span class="h3">do</span></p><p class="s3" style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s12">9: </span>E<span class="s11">0 </span><span class="s25">← ∅ </span><span class="p">and </span>E<span class="s11">1 </span><span class="s25">←</span><span class="s7"> ∅</span></p><p class="s12" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">10: <span class="h3">while </span><span class="s3">Q</span><span class="s11">0 </span>is not empty<span class="p"> </span><span class="h3">do</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s12">11: Dequeue </span>v <span class="p">from </span>Q<span class="s11">0</span><span class="s12">.</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s12">12: </span><span class="h3">for all </span>u <span class="s7">∈ </span>N<span class="s10">G</span><span class="s12">(</span>v<span class="p">) </span><span class="h3">do</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;line-height: 65%;text-align: justify;">Let <span class="s3">v </span>be a vertex. Suppose that we have already computed <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>(<span class="s3">w</span>) for all <span class="s3">w </span>such that <span class="s3">d </span>(<span class="s3">r, w</span>) <span class="s3">&lt; d </span>(<span class="s3">r, v</span>). We can compute <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>(<span class="s3">v</span>) as follows,</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G G</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G G</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="s47">{</span>u <span class="s7">∈ </span>S<span class="s8">r</span><span class="s10"> </span><span class="s7">| </span>u <span class="s7">∈ </span>S<span class="s13">−</span><span class="s11">1</span><span class="p">(</span>w<span class="p">)</span>, w <span class="s7">∈ </span>N <span class="p">(</span>v<span class="p">)</span>, d <span class="p">(</span>r, w<span class="p">) = </span>d <span class="p">(</span>r, v<span class="p">) </span><span class="s7">− </span><span class="p">1</span><span class="s47">}</span><span class="p"> </span>,</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">13: <span class="h3">if </span><span class="s3">P </span>[<span class="s3">u</span>] = <span class="s7">∞ ∨ </span><span class="s3">P </span>[<span class="s3">u</span>] = <span class="s3">P </span>[<span class="s3">v</span>] + 1 <span class="h3">then</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s12">since if </span>u <span class="p">is in </span>S<span class="s41">−</span><span class="s11">1</span><span class="s12">(</span>v<span class="p">), </span>d<span class="s10">G</span></p><p class="s3" style="text-indent: 0pt;text-align: left;"><span class="s12">(</span>u, v<span class="p">) = </span>d<span class="s10">G</span></p><p style="text-indent: 0pt;line-height: 11pt;text-align: left;">(<span class="s3">r, v</span>) <span class="s7">− </span>1 and therefore</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">14:                                 </span>E<span class="s20">1</span><span class="s11">  </span><span class="s7">← </span>E<span class="s20">1</span><span class="s11">  </span><span class="s7">∪ {</span><span class="p">(</span>v, u<span class="p">)</span><span class="s7">}</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">15: <span class="h3">if </span><span class="s3">P </span>[<span class="s3">u</span>] = <span class="s7">∞ </span><span class="h3">then</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 59%;text-align: left;">u <span class="p">is on one of the shortest paths from </span>r <span class="p">to </span>v<span class="p">. Similarly, assuming that we have already computed </span>S<span class="s13">−</span><span class="s11">1</span><span class="p">(</span>w<span class="p">) for all </span>w</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">16: <span class="s3">P </span>[<span class="s3">u</span>] <span class="s7">← </span><span class="s3">P </span>[<span class="s3">v</span>] + 1</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="s12">such</span><span class="p"> that </span>d<span class="s10">G</span><span class="s12">(</span>r, w<span class="p">) </span><span class="s7">≤ </span>d<span class="s10">G</span><span class="s12">(</span>r, v<span class="p">) and </span>S<span class="s48">0</span></p><p style="text-indent: 0pt;text-align: left;">(<span class="s3">w</span>) for all <span class="s3">w </span>such that</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">17: Enqueue <span class="s3">u </span>onto <span class="s3">Q</span><span class="s20">1</span>.</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">d<span class="s8">G</span><span class="p">(</span>r, w<span class="p">) </span>&lt; d<span class="s8">G</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;line-height: 10pt;text-align: left;">(<span class="s3">r, v</span>), we can compute <span class="s3">S</span><span class="s14">0</span>(<span class="s3">v</span>) as follows,</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">18: <span class="h3">else if </span><span class="s3">P </span>[<span class="s3">u</span>] = <span class="s3">P </span>[<span class="s3">v</span>] <span class="h3">then</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><a name="bookmark24"><span class="s12">19:</span></a><span class="p">                                 </span>E<span class="s11">0  </span><span class="s25">←</span><span class="s7"> </span>E<span class="s11">0  </span><span class="s25">∪</span><span class="s7"> {</span><span class="p">(</span>v, u<span class="p">)</span><span class="s7">}</span><a name="bookmark25">&zwnj;</a><a name="bookmark26">&zwnj;</a><a name="bookmark27">&zwnj;</a></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 18pt;text-align: left;"><span class="s49">{</span><span class="s19">u</span> <span class="s7">∈ </span>S<span class="s10">r</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G G</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r G G G</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 1pt;text-indent: 0pt;line-height: 17pt;text-align: left;"><span class="s7">| </span>u <span class="s7">∈ </span>S<span class="s14">0</span><span class="p">(</span>w<span class="p">)</span>, w <span class="s7">∈ </span>N <span class="p">(</span>v<span class="p">)</span>, d <span class="p">(</span>r, w<span class="p">) = </span>d <span class="p">(</span>r, v<span class="p">) </span><span class="s7">− </span><span class="p">1</span><span class="s47">}</span></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="s12">20: </span><span class="h3">for all </span>(<span class="s3">v, u</span>) <span class="s7">∈ </span><span class="s3">E</span><span class="s11">0 </span><span class="s50">do</span></p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 0pt;text-align: left;"><span class="s7">∪ </span><span class="s47">{</span>u <span class="s7">∈ </span>S<span class="s8">r</span><span class="s10"> </span><span class="s7">| </span>u <span class="s7">∈ </span>S<span class="s8">r</span><span class="s10"> </span><span class="p">(</span>w<span class="p">)</span>, w <span class="s7">∈ </span>N<span class="s8">G</span><span class="p">(</span>v<span class="p">)</span>, d<span class="s8">G</span><span class="p">(</span>r, w<span class="p">) = </span>d<span class="s8">G</span><span class="p">(</span>r, v<span class="p">)</span><span class="s47">}</span><span class="p"> </span>.</p><p class="s11" style="text-indent: 0pt;line-height: 7pt;text-align: right;">1</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">21: <span class="s3">S</span><span class="s14">0</span>[<span class="s3">u</span>] <span class="s7">← </span><span class="s3">S</span><span class="s14">0</span>[<span class="s3">u</span>] <span class="s7">∪ </span><span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>[<span class="s3">v</span>]</p><p class="s10" style="padding-left: 69pt;text-indent: 0pt;line-height: 6pt;text-align: left;">r r r</p><p style="padding-left: 69pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Therefore, along with the breadth-ﬁrst search, we can</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">22: <span class="h3">for all </span>(<span class="s3">v, u</span>) <span class="s7">∈ </span><span class="s3">E</span><span class="s20">1</span><span class="s11"> </span><span class="h3">do</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 3pt;text-align: left;">compute <span class="s3">S</span><span class="s13">−</span><span class="s11">1 0</span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">23: <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>[<span class="s3">u</span>] <span class="s7">← </span><span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>[<span class="s3">u</span>] <span class="s7">∪ </span><span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>[<span class="s3">v</span>]</p><p class="s8" style="padding-left: 5pt;text-indent: 43pt;line-height: 9pt;text-align: left;">r <span class="p">and </span><span class="s3">S</span>r <span class="p">alternately by dynamic programming</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 2pt;text-align: left;">in the increasing order of distance from <span class="s3">r</span>. That is, ﬁrst we</p><p class="s10" style="padding-left: 69pt;text-indent: 0pt;line-height: 5pt;text-align: left;">r r r</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">24: <span class="s3">S</span><span class="s14">0</span>[<span class="s3">u</span>] <span class="s7">← </span><span class="s3">S</span><span class="s14">0</span>[<span class="s3">u</span>] <span class="s7">∪ </span><span class="s3">S</span><span class="s14">0</span>[<span class="s3">v</span>]</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">compute <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span></p><p class="s10" style="padding-left: 69pt;text-indent: 0pt;line-height: 6pt;text-align: left;">r r r</p><p class="s3" style="padding-left: 69pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s8">r </span><span class="p">(</span>v<span class="p">) for all </span>v <span class="s7">∈ </span>V <span class="p">such that </span>d<span class="s8">G</span><span class="p">(</span>r, v<span class="p">) = 1, next</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s12">25: </span>Q<span class="s11">0 </span><span class="s25">← </span>Q<span class="s11">1 </span><span class="s12">and </span>Q<span class="s11">1 </span><span class="s25">←</span><span class="s7"> ∅</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s12">we </span><span class="p">compute </span>S<span class="s48">0</span><span class="s12">(</span>v<span class="p">) for all </span>v <span class="s7">∈ </span>V <span class="p">such that </span>d<span class="s10">G</span></p><p style="text-indent: 0pt;line-height: 10pt;text-align: left;">(<span class="s3">r, v</span>) = 1, then</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">26: <span class="h3">return </span>(<span class="s3">P, S</span><span class="s13">−</span><span class="s11">1</span><span class="s3">, S</span><span class="s14">0</span>)</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span class="s12">we </span><span class="p">compute </span>S<span class="s41">−</span><span class="s11">1</span><span class="s12">(</span>v<span class="p">) for all </span>v <span class="s7">∈ </span>V <span class="p">such that </span>d<span class="s10">G</span><span class="s12">(</span>r, v<span class="p">) = 2,</span></p><p class="s10" style="padding-left: 87pt;text-indent: 0pt;line-height: 5pt;text-align: left;">r r <span class="s51">r</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="320" height="1" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_016.png"/></span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">r</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 268pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="p">next we compute </span>S<span class="s14">0</span><span class="p">(</span>v<span class="p">) for all </span>v <span class="s7">∈ </span>V <span class="p">such that </span>d<span class="s8">G</span></p><p style="padding-top: 4pt;text-indent: 0pt;text-align: left;">(<span class="s3">r, v</span>) = 2,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">simultaneously in <span class="s3">O</span>(<span class="s3">m</span>) time. Moreover, we also propose a method to answer distance queries for any pair of vertices via one of these <span class="s3">b </span>+ 1 vertices in <span class="s3">O</span>(1) time.</p><h2 style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">5.1 Bit-parallel Labels</h2><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: left;">To describe the preprocessing algorithm and the querying algorithm, we ﬁrst deﬁne what we store in the index.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">and so on. Note that operations on sets can be done in <span class="s3">O</span>(1) time by representing sets by bit vectors and using bitwise operations.</p><h2 style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">5.3 Bit-parallel Distance Querying</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">To  process a distance query between a pair of vertices     <span class="s3">s </span>and <span class="s3">t</span>, as with normal labels, we scan bit-parallel labels <span class="s3">L</span><span class="s20">BP</span>(<span class="s3">s</span>) and <span class="s3">L</span><span class="s20">BP</span>(<span class="s3">t</span>). For each pair of quadruples that share</p><p class="s11" style="text-indent: 0pt;line-height: 4pt;text-align: right;">1 0</p><p style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;">As we explain in the next subsection, we conduct bit-</p><p class="s3" style="padding-left: 14pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span class="p">the  same  root  vertex,  (</span>r, δ<span class="s8">r</span><span class="s10">s</span>, S<span class="s8">r</span><span class="s10">    </span><span class="p">(</span>s<span class="p">)</span>, S<span class="s8">r</span><span class="s10"> </span><span class="p">(</span>s<span class="p">))  </span><span class="s7">∈  </span>L<span class="s20">B</span><span class="s11">P</span><span class="p">(</span>s<span class="p">)  and</span></p><p class="s11" style="padding-left: 306pt;text-indent: 0pt;line-height: 2pt;text-align: center;">1           0</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">parallel BFSs from a vertex <span class="s3">r </span>and a subset of its neighbors</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p class="s9" style="text-indent: 0pt;line-height: 4pt;text-align: left;">−</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="p">(</span>r, δ<span class="s8">r</span><span class="s10">t</span>, S<span class="s8">r</span><span class="s10">    </span><span class="p">(</span>t<span class="p">)</span>, S<span class="s8">r</span><span class="s10"> </span><span class="p">(</span>t<span class="p">))  </span><span class="s7">∈  </span>L<span class="s20">B</span><span class="s11">P</span><span class="p">(</span>t<span class="p">),  from  these  quadruples  we</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">compute distance between <span class="s3">s </span>and <span class="s3">t </span>via one of vertices in <span class="s7">{</span><span class="s3">r</span><span class="s7">}∪</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">S<span class="s8">r </span><span class="s7">⊆ </span>N<span class="s8">G</span><span class="p">(</span>r<span class="p">) with size at most </span>b<span class="p">. We deﬁne</span></p><p class="s40" style="padding-top: 6pt;padding-left: 39pt;text-indent: 0pt;line-height: 3pt;text-align: left;">S<span class="s10">i</span></p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s19">S</span><span class="s10">r </span><span class="s12">. That is, </span>we compute <span class="s3">δ </span>= min</p><p class="s10" style="text-indent: 0pt;line-height: 7pt;text-align: right;">u<span class="s9">∈{</span>r<span class="s9">}∪</span>S<span class="s36">r</span></p><p class="s3" style="text-indent: 0pt;text-align: left;"><span class="s25">{</span>d<span class="s10">G</span><span class="s12">(</span>s, u<span class="p">) + </span>d<span class="s10">G</span><span class="s12">(</span>u, t<span class="p">)</span><span class="s7">}</span><span class="p">.</span></p><p class="s3" style="padding-left: 44pt;text-indent: 0pt;line-height: 10pt;text-align: center;"><span class="s8">r</span><span class="s10"> </span><span class="p">(</span>v<span class="p">) = </span><span class="s7">{</span>u <span class="s7">∈ </span>S<span class="s8">r</span><span class="s10">  </span><span class="s7">| </span>d<span class="s8">G</span><span class="p">(</span>u, v<span class="p">) </span><span class="s7">− </span>d<span class="s8">G</span><span class="p">(</span>r, v<span class="p">) = </span>i<span class="s7">} </span>.</p><p class="s3" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><span class="p">Since vertices in </span>S<span class="s8">r</span><span class="s10"> </span><span class="p">are neighbors of </span>r<span class="p">, for any vertex </span>u <span class="s7">∈ </span>S<span class="s8">r</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="s12">and any vertex </span>v <span class="s7">∈ </span>V <span class="p">, </span><span class="s7">|</span>d<span class="s10">G</span><span class="s12">(</span>u, v<span class="p">) </span><span class="s7">− </span>d<span class="s10">G</span><span class="s12">(</span>r, v<span class="p">)</span><span class="s7">| ≤ </span><span class="p">1. Therefore,</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 4pt;text-align: left;"><span class="s12">for each </span>v <span class="s7">∈ </span>V <span class="p">, </span>S<span class="s10">r </span><span class="s12">can be partitioned into </span>S<span class="s41">−</span><span class="s11">1 0</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 88%;text-align: justify;"><span class="s12">A naive </span><span class="p">way is to compute </span>d<span class="s10">G</span><span class="s12">(</span>s, u<span class="p">) and </span>d<span class="s10">G</span><span class="s12">(</span>u, t<span class="p">) for all </span>u <span class="p">and take the minimum, which takes </span>O<span class="p">(</span><span class="s7">|</span>S<span class="s10">r </span><span class="s25">|</span><span class="p">) time. However, we propose an algorithm to compute </span>δ <span class="p">in </span>O<span class="p">(1) time by ex-</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 6pt;text-align: justify;">ploiting bitwise operations.</p><p style="padding-left: 193pt;text-indent: 0pt;line-height: 6pt;text-align: left;"><span class="s8">r </span>(<span class="s3">v</span>)<span class="s3">, S</span><span class="s8">r </span>(<span class="s3">v</span>), <span class="s52">˜</span> ˜</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">and <span class="s3">S</span><span class="s14">+1</span>(<span class="s3">v</span>). That is, <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>(<span class="s3">v</span>) <span class="s7">∪ </span><span class="s3">S</span><span class="s14">0</span>(<span class="s3">v</span>) <span class="s7">∪ </span><span class="s3">S</span><span class="s14">+1</span>(<span class="s3">v</span>) = <span class="s3">S </span>.</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s12">Let </span>δ <span class="p">= </span>d<span class="s10">G</span><span class="s12">(</span>s, r<span class="p">) + </span>d<span class="s10">G</span><span class="s12">(</span>r, t<span class="p">). Since </span>δ <span class="p">is an upper bound on</span></p><p class="s10" style="padding-left: 29pt;text-indent: 0pt;line-height: 3pt;text-align: left;">r r r r r</p><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: left;"><span class="p">We compute </span>bit-parallel labels <span class="p">and store them in the in- dex. For each vertex </span>v <span class="s7">∈ </span>V <span class="p">, we precompute a bit-parallel</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s3">δ </span>and <span class="s3">d</span><span class="s8">G</span>(<span class="s3">s, u</span>) <span class="s7">≥ </span><span class="s3">d</span><span class="s8">G</span>(<span class="s3">s, r</span>) <span class="s7">− </span>1<span class="s3">, d</span><span class="s8">G</span>(<span class="s3">u, t</span>) <span class="s7">≥ </span><span class="s3">d</span><span class="s8">G</span>(<span class="s3">r, t</span>) <span class="s7">− </span>1 for all</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;">u <span class="s7">∈ </span>S<span class="s8">r</span><span class="s10"> </span><span class="p">, </span>δ<span class="s53">˜</span><span class="p"> </span><span class="s7">− </span><span class="p">2 </span><span class="s7">≤ </span>δ <span class="s7">≤ </span>δ<span class="s53">˜</span><span class="p">.  Therefore, what we have to do is to</span></p><p style="text-indent: 0pt;line-height: 2pt;text-align: right;">˜ ˜ ˜</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">label denoted as <span class="s3">L</span><span class="s20">BP</span>(<span class="s3">v</span>). <span class="s3">L</span><span class="s20">BP</span>(<span class="s3">v</span>) is a set of quadruples</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">judge whether the distance <span class="s3">δ </span>is <span class="s3">δ </span><span class="s7">− </span>2, <span class="s3">δ </span><span class="s7">− </span>1 or <span class="s3">δ</span>.</p><p class="s9" style="text-indent: 0pt;line-height: 2pt;text-align: right;">−<span class="s11">1 </span>−<span class="s11">1</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><span class="p">(</span>u, δ<span class="s8">uv</span>, S<span class="s13">−</span><span class="s11">1</span><span class="p">(</span>v<span class="p">)</span>, S<span class="s14">0 </span><span class="p">(</span>v<span class="p">)), where </span>u <span class="s7">∈ </span>V <span class="p">is a vertex, </span>δ <span class="p">=</span></p><p class="s10" style="padding-left: 41pt;text-indent: 0pt;line-height: 0pt;text-align: left;">u u uv</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">This can be done as follows.  If <span class="s3">S</span><span class="s8">r</span><span class="s10">    </span>(<span class="s3">s</span>) <span class="s7">∩ </span><span class="s3">S</span><span class="s8">r</span><span class="s10">    </span>(<span class="s3">t</span>) <span class="s7">I</span>= <span class="s7">∅</span>, then</p><p class="s11" style="padding-left: 110pt;text-indent: 0pt;line-height: 2pt;text-align: left;">0 <span class="s9">−</span>1 <span class="s9">−</span>1</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">u</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">u</p><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">d<span class="s8">G</span><span class="p">(</span>u, v<span class="p">) and </span>S<span class="s54">i</span><span class="s10"> </span><span class="p">(</span>v<span class="p">) </span><span class="s7">⊆ </span>S<span class="s8">u</span></p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">u</p><p class="s10" style="text-indent: 0pt;line-height: 6pt;text-align: left;">u</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 1pt;text-indent: 0pt;line-height: 12pt;text-align: left;">is deﬁned above. We store <span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>(<span class="s3">v</span>)</p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">δ  <span class="p">=  </span>δ<span class="s53">˜</span><span class="p"> </span><span class="s7">−</span></p><ol id="l16"><li style="padding-left: 14pt;text-indent: -13pt;line-height: 11pt;text-align: left;"><p style="display: inline;">Otherwise, if <span class="s3">S</span><span class="s8">r</span></p><ol id="l17"><li style="padding-left: 13pt;text-indent: -14pt;line-height: 12pt;text-align: left;"><p class="s7" style="display: inline;">∩ <span class="s3">S</span><span class="s8">r</span></p></li><li style="padding-left: 19pt;text-indent: -14pt;line-height: 12pt;text-align: left;"><p class="s7" style="display: inline;">I<span class="p">=  </span>∅ <span class="p">or  </span><span class="s3">S</span><span class="s8">r</span></p></li></ol><p style="padding-left: 4pt;text-indent: 0pt;line-height: 11pt;text-align: left;">(<span class="s3">s</span>) <span class="s7">∩</span></p><p style="padding-left: 29pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span class="s22">u</span><span class="s10">                                                                                                u                                              </span><span class="s8">r</span><span class="s10"> </span>(<span class="s3">t</span>) <span class="s7">I</span>= <span class="s7">∅</span>,  then  <span class="s3">δ </span>= <span class="s3">δ</span><span class="s53">˜</span> <span class="s7">− </span>1,  and otherwise  <span class="s3">δ </span>= <span class="s3">δ</span><span class="s53">˜</span>.  Note that</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 63%;text-align: left;">and <span class="s3">S</span><span class="s14">0 </span>(<span class="s3">v</span>) by bit vectors of <span class="s3">b </span>bits. Note that <span class="s3">S</span><span class="s14">+1</span>(<span class="s3">v</span>) can be obtained as <span class="s3">S</span><span class="s8">u </span><span class="s7">\ </span>(<span class="s3">S</span><span class="s13">−</span><span class="s11">1</span>(<span class="s3">v</span>) <span class="s7">∪ </span><span class="s3">S</span><span class="s14">0 </span>(<span class="s3">v</span>)), but actually we do not</p><p class="s40" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;">S<span class="s11">0</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 7pt;text-align: left;">computing intersections of sets can be done by bitwise AND</p><p class="s10" style="padding-left: 85pt;text-indent: 0pt;line-height: 1pt;text-align: left;">u u</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">use <span class="s3">S</span><span class="s14">+1</span>(<span class="s3">v</span>) in the querying algorithm.</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 5pt;text-align: left;">operations. Therefore, all these operations can be done in</p><p class="s10" style="padding-left: 27pt;text-indent: 0pt;line-height: 5pt;text-align: left;">u</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;line-height: 78%;text-align: left;">In order to describe subsets of <span class="s3">S</span><span class="s8">r </span>by bit vectors of <span class="s3">b </span>bits, we assign an unique number between one and <span class="s7">|</span><span class="s3">S</span><span class="s8">r </span><span class="s7">| </span>to each</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s12">vertex</span> in <span class="s3">S</span><span class="s10">r </span><span class="s12">,</span> and express presence of the <span class="s3">i</span>-th vertex by set- ting the <span class="s3">i</span>-th bit.</p><h2 style="padding-top: 6pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">5.2 Bit-parallel BFS</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: left;">We once put aside the pruning discussed in Section 4.2 and we make a bit-parallel version of the naive labeling method</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s3">O</span>(1) time. Thus, the distance <span class="s3">δ </span>can be computed in <span class="s3">O</span>(1) time, and, in total, we can answer each query in <span class="s3">O</span>(<span class="s7">|</span><span class="s3">L</span><span class="s20">BP</span>(<span class="s3">s</span>)<span class="s7">|</span>+</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span class="s7">|</span><span class="s3">L</span><span class="s20">BP</span>(<span class="s3">t</span>)<span class="s7">|</span>) time.</p><h2 style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">5.4 Introducing to Pruned Labeling</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Now we discuss how to combine this bit-parallel labeling methods and the pruned labeling method discussed in Sec- tion 4.2. We propose a simple and eﬃcient way as follows.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">First we conduct bit-parallel BFSs without pruning for <span class="s3">t </span>times, where <span class="s3">t </span>is a parameter. Then, we conduct pruned BFSs using both the bit-parallel labels and normal labels  for pruning.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;"><a name="bookmark30">This method exploits diﬀerent strength of the pruned la- beling method and the bit-parallel labeling method. In the beginning, pruning does not work much and pruned BFSs visits large portion of the vertices. Therefore, instead of pruned labeling, we use bit-parallel labeling without pruning to eﬃciently cover a larger part of pairs of vertices. Skip- ping the overhead of vain pruning tests also contributes the speed-up.</a></p><p style="padding-left: 5pt;text-indent: 8pt;line-height: 11pt;text-align: justify;">As roots and neighbor sets for bit-parallel BFSs, we pro- pose to greedily use vertices with the highest priority: we select a vertex with the highest priority as the root <span class="s3">r </span>among</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:11pt"><td style="width:51pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Dataset</p></td><td style="width:48pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Network</p></td><td style="width:33pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt" colspan="2"><p class="s16" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">|<span class="s17">V </span>|</p></td><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s16" style="padding-left: 17pt;text-indent: 0pt;line-height: 8pt;text-align: left;">|<span class="s17">E</span>|</p></td></tr><tr style="height:10pt"><td style="width:51pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Gnutella</p></td><td style="width:48pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">63</p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">148</p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Epinions</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">76</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">509</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Slashdot</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">82</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">948</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Notredame</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">326</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">1.5</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">WikiTalk</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">2.4</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">4.7</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Skitter</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.7</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">11</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indo</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.4</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">17</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">MetroSec</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">2.3</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">22</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Flickr</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.8</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">23</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Hollywood</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.1</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">114</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:10pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indochina</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">7.4</p></td><td style="width:14pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">194</p></td><td style="width:14pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr></table><table style="border-collapse:collapse" cellspacing="0"><tr style="height:11pt"><td style="width:51pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Dataset</p></td><td style="width:48pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Network</p></td><td style="width:33pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt" colspan="2"><p class="s16" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">|<span class="s17">V </span>|</p></td><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s16" style="padding-left: 17pt;text-indent: 0pt;line-height: 8pt;text-align: left;">|<span class="s17">E</span>|</p></td></tr><tr style="height:10pt"><td style="width:51pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Gnutella</p></td><td style="width:48pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">63</p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">148</p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Epinions</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">76</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">509</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Slashdot</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">82</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">948</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Notredame</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">326</p></td><td style="width:14pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">K</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">1.5</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">WikiTalk</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">2.4</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">4.7</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Skitter</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.7</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">11</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indo</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.4</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">17</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">MetroSec</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Computer</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">2.3</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">22</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Flickr</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.8</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">23</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:9pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Hollywood</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Social</p></td><td style="width:19pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.1</p></td><td style="width:14pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">114</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr><tr style="height:10pt"><td style="width:51pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indochina</p></td><td style="width:48pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Web</p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">7.4</p></td><td style="width:14pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">194</p></td><td style="width:14pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">M</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><h2 style="padding-left: 5pt;text-indent: 0pt;text-align: left;">7.1 Datasets</h2><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Table 4: Datasets</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">remaining vertices, and we select up to <span class="s3">b </span>vertices with the highest priority as the set <span class="s3">S</span><span class="s8">r </span>among remaining neighbors.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;"><a name="bookmark28">As we see in the experimental results in Section 7, this method improves the preprocessing time, the index size and the query time. Moreover, as we also conﬁrm in the ex- periments, if we do not set too large value as </a><span class="s3">t</span>, at least it  does not spoil the performance. Therefore we do not have  to be too serious about ﬁnding a proper value for <span class="s3">t</span>, and our method is still easy to use.<a name="bookmark29">&zwnj;</a><a name="bookmark31">&zwnj;</a><a name="bookmark32">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l18"><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;">VARIANTS AND EXTENSIONS</h2><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="h3">Shortest-Path Queries: </span><span class="p">To answer not only distances but also shortest-paths, we store sets of tuples instead of pairs  as labels. Label </span>L<span class="p">(</span>v<span class="p">) is a set of triples (</span>u, δ<span class="s8">uv</span>, p<span class="s8">uv </span><span class="p">), where </span>p<span class="s8">uv </span><span class="s7">∈ </span>V <span class="p">is the parent of </span>u <span class="p">in the pruned breadth-ﬁrst search tree rooted at </span>u <span class="p">created by the pruned BFS from </span>u<span class="p">. We can restore the shortest path between </span>v <span class="p">and </span>u <span class="p">by ascending the tree from </span>v <span class="p">to the parents.</span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Weighted Graphs: <span class="p">To treat weighted graphs, the only necessary change is to perform pruned Dijkstra’s algorithm instead of pruned BFSs. Bit-parallel labeling cannot be used for weighted graphs.</span></h3><p class="s3" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: justify;"><span class="h3">Directed Graphs: </span><span class="p">To treat directed graphs, we ﬁrst rede- ﬁne </span>d<span class="s8">G</span><span class="p">(</span>u, v<span class="p">) as the distance from </span>u <span class="p">to </span>v<span class="p">. Then, we store two labels </span>L<span class="s20">OUT</span><span class="p">(</span>v<span class="p">) and </span>L<span class="s20">IN</span><span class="p">(</span>v<span class="p">) for  each vertex.  Label  </span>L<span class="s20">OUT</span><span class="p">(</span>v<span class="p">)  is a set of pairs (</span>u, δ<span class="s8">vu</span><span class="p">), where </span>u <span class="s7">∈ </span>V <span class="p">and </span>δ<span class="s8">vu </span><span class="p">= </span>d<span class="s8">G</span><span class="p">(</span>v, u<span class="p">), and Label </span>L<span class="s20">IN</span><span class="p">(</span>v<span class="p">) is a set of pairs (</span>u, δ<span class="s8">uv </span><span class="p">), where </span>u <span class="s7">∈ </span>V <span class="p">and</span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;text-align: justify;"><span class="s19">δ</span><span class="s10">uv </span><span class="s12">= </span>d<span class="s10">G</span><span class="s12">(</span>u, v<span class="p">). We  can answer the distance from vertex </span>s  <span class="p">to vertex </span>t <span class="p">by </span>L<span class="s11">OUT</span><span class="s12">(</span>s<span class="p">) and </span>L<span class="s11">IN</span><span class="s12">(</span>t<span class="p">). To compute these labels, from each vertex, we conduct pruned BFSs twice: once in the forward direction and once in the reverse direction.</span></p><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Disk-based Query Answering: <span class="p">To answer a distance query, our querying algorithm only refers to two contiguous regions. Thus, if the index is disk resident, we can answer queries with two disk seek operations, which would be still much faster than an in-memory BFS.</span></h3><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;">EXPERIMENTS</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">We conducted experiments on a Linux server with Intel Xeon X5670 (2.93 GHz) and 48GB of main memory. The proposed method was implemented in C++. We used 8-bit integers to represent distances, 32-bit integers to represent vertices, and 64-bit integers to conduct bit-parallel BFSs. For vertex ordering, we mainly use  the  Degree  strategy and we do not specify the vertex ordering strategy unless  we use other strategies. For query time, we generally report the average time for 1,000,000 random queries.</p><p style="padding-left: 5pt;text-indent: 8pt;line-height: 6pt;text-align: justify;">To show the eﬃciency and robustness of our method, we</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">conducted experiments on various real-world networks: ﬁve social networks, three web graphs and three computer net- works. We treated all the graphs as undirected, unweighted graphs. Basically we used ﬁve smaller datasets to compare the performance between the proposed method and previ- ous methods and to analyze the behavior of these methods, and used larger six datasets to show the scalability of the proposed method. The types of networks, the numbers of vertices and edges are presented in Table 4.</p><ol id="l19"><ol id="l20"><ol id="l21"><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: justify;"><p class="s32" style="display: inline;">Detailed Description</p><h3 style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Gnutella: <span class="p">This is a graph created from a snapshot of the Gnutella P2P network in August 2002 [34].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Epinions: <span class="p">This graph is the on-line social network in Epin- ions (www.epinions.com), where each vertex represents a user and each edge represents a trust relationship [33].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Slashdot: <span class="p">This is the on-line social network in Slashdot (slashdot.org) obtained in February 2009. Vertices cor- respond to users and edges correspond to friend/foe links between the users [23].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">NotreDame: <span class="p">This is a web graph between pages from Uni- versity of Notre Dame (domain nd.edu) collected in 1999 [5].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">WikiTalk: <span class="p">This is the on-line social network among editors of Wikipedia (www.wikipedia.org) created by communica- tion on edits on talk pages by till January 2008 [21, 20].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Skitter: <span class="p">This is an Internet topology graph created from traceroutes run in 2005 by Skitter [22].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Indo: <span class="p">This is a web graph between pages in .in domain crawled in 2004 [9, 8].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">MetroSec: <span class="p">This is a graph constructed from Internet traﬃc captured by MetroSec. Each vertex represents a computer and two vertices are linked if they appear in a packet as sender and destination [24].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Flickr: <span class="p">This is the on-line social network in a photo-sharing site, Flickr (www.flickr.com) [26].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Indochina: <span class="p">This is a web graph of web pages in the country domains of Indochina countries, crawled in 2004 [9, 8].</span></h3><h3 style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Hollywood: <span class="p">This is a social network of movie actors. Two actors are linked if they appeared in a movie together by 2009 [9, 8].</span></h3></li><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: justify;"><p class="s32" style="display: inline;">Statistics</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">First, we investigated the degree distribution of the net- works, since degrees of vertices play important roles in our method when we use Degree strategy for vertex ordering.</p><p class="s55" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10<span class="s56">7</span></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Frequency</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Frequency</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">6</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">5</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">4</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">3</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">2</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">1</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;line-height: 6pt;text-align: right;">10<span class="s56">0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 23pt;text-indent: 6pt;line-height: 5pt;text-align: right;">Gnutella Epinions Slashdot NotreDame WikiTalk</p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_017.png"/></span></p><p class="s55" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10<span class="s56">8</span></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Frequency</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Frequency</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">7</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">6</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">5</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">4</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">3</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">2</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">10<span class="s56">1</span></p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;line-height: 6pt;text-align: right;">10<span class="s56">0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 23pt;text-indent: 8pt;line-height: 5pt;text-align: right;">Skitter Indo MetroSec Flickr Hollywood Indochina</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_018.png"/></span></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.8</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.7</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.6</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Fraction</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Fraction</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.5</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.4</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.3</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.2</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">0.1</p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 29pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Gnutella Epinions Slashdot             </p><p class="s55" style="padding-left: 29pt;text-indent: -6pt;line-height: 5pt;text-align: left;">NotreDame WikiTalk</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="94" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_019.png"/></span></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.7</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.6</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Fraction</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Fraction</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.5</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.4</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.3</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.2</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;text-align: right;">0.1</p><p class="s55" style="padding-top: 4pt;text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="94" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_020.png"/></span></p><p class="s55" style="padding-top: 3pt;padding-left: 32pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Skitter</p><p class="s55" style="padding-left: 24pt;text-indent: 11pt;line-height: 5pt;text-align: left;">Indo MetroSec</p><p class="s55" style="padding-left: 23pt;text-indent: 11pt;line-height: 5pt;text-align: left;">Flickr Hollywood Indochina             </p><p class="s55" style="padding-left: 50pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4 </span>10<span class="s56">5</span><span class="s57"> </span>10<span class="s56">6</span></p><p class="s55" style="padding-top: 1pt;padding-left: 50pt;text-indent: 0pt;text-align: center;">Degree</p><ol id="l22"><li style="padding-top: 4pt;padding-left: 16pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><p style="display: inline;">Degree distribution of smaller ﬁve datasets.</p><p class="s55" style="padding-left: 31pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4 </span>10<span class="s56">5 </span>10<span class="s56">6</span><span class="s57"> </span>10<span class="s56">7</span></p><p class="s55" style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: center;">Degree</p></li><li style="padding-top: 4pt;padding-left: 1pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><p style="display: inline;">Degree distribution of larger six datasets.</p><p class="s55" style="padding-left: 44pt;text-indent: 0pt;text-align: center;">0 2 4 6 8 10 12 14 16</p><p class="s55" style="padding-top: 1pt;padding-left: 41pt;text-indent: 0pt;text-align: center;">Distance</p></li><li style="padding-top: 4pt;padding-left: 1pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><p style="display: inline;">Distance distribution of smaller ﬁve datasets.</p><p class="s55" style="padding-left: 45pt;text-indent: 0pt;text-align: center;">0 2 4 6 8 10 12 14 16</p><p class="s55" style="padding-top: 1pt;padding-left: 42pt;text-indent: 0pt;text-align: center;">Distance</p></li><li style="padding-top: 4pt;padding-left: 2pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><p style="display: inline;">Distance distribution of larger six datasets.</p></li></ol></li></ol></ol></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 183pt;text-indent: 0pt;text-align: left;">Figure 2: Properties of the datasets.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Table 3: Performance comparison between the proposed method and previous methods for the real-world datasets. IT denotes indexing time, IS denotes index size, QT denotes query time, and LN denotes average label size for each vertex. DNF means  it did not ﬁnish in one day or ran out of memory.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:9.181pt" cellspacing="0"><tr style="height:20pt"><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-top: 3pt;padding-left: 4pt;text-indent: 0pt;text-align: left;">Dataset</p></td><td style="width:137pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:2pt" colspan="7"><p class="s15" style="padding-left: 27pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Pruned Landmark Labeling</p><p class="s15" style="padding-left: 24pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IT IS QT</p></td><td style="width:22pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s15" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">LN</p></td><td style="width:59pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-left: 14pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Hierarchical</p><p class="s15" style="text-indent: 0pt;line-height: 9pt;text-align: center;">IT</p></td><td style="width:20pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-left: 5pt;text-indent: -3pt;line-height: 8pt;text-align: left;">Hub</p><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IS</p></td><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt" colspan="2"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: center;">Labeling</p><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 9pt;text-align: center;">QT</p></td><td style="width:26pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">[2]</p><p class="s15" style="padding-left: 8pt;text-indent: 0pt;line-height: 9pt;text-align: left;">LN</p></td><td style="width:105pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt" colspan="5"><p class="s15" style="padding-left: 9pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Tree Decomposition [4]</p><p class="s15" style="padding-left: 20pt;text-indent: 0pt;line-height: 9pt;text-align: left;">IT IS QT</p></td><td style="width:36pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s15" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">BFS</p></td></tr><tr style="height:10pt"><td style="width:53pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><a name="bookmark33">Gnutella</a><a name="bookmark34">&zwnj;</a><a name="bookmark35">&zwnj;</a></p></td><td style="width:31pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">54</p></td><td style="width:9pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">209</p></td><td style="width:19pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">MB</p></td><td style="width:21pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">5.2</p></td><td style="width:15pt;border-top-style:solid;border-top-width:2pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">644+16</p></td><td style="width:39pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">245 s</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 2pt;text-indent: 0pt;line-height: 8pt;text-align: right;">380</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:16pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">11</p></td><td style="width:18pt;border-top-style:solid;border-top-width:2pt"><p class="s17" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:26pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">1,275</p></td><td style="width:35pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">209 s</p></td><td style="width:19pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">68</p></td><td style="width:20pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:17pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">19</p></td><td style="width:14pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:36pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s15" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">3.2 ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Epinions</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">1.7</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">32</p></td><td style="width:19pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">MB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.5</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">33+16</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">495 s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 2pt;text-indent: 0pt;line-height: 8pt;text-align: right;">93</p></td><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:16pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">2.2</p></td><td style="width:18pt"><p class="s17" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">256</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">128 s</p></td><td style="width:19pt"><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">42</p></td><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:17pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">11</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:36pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s15" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">7.4 ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Slashdot</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">6.0</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">48</p></td><td style="width:19pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">MB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.8</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">68+16</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">670 s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 2pt;text-indent: 0pt;line-height: 8pt;text-align: right;">182</p></td><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:16pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">3.9</p></td><td style="width:18pt"><p class="s17" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">464</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">343 s</p></td><td style="width:19pt"><p class="s15" style="padding-left: 7pt;text-indent: 0pt;line-height: 8pt;text-align: center;">83</p></td><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:17pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">12</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">12</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">NotreDame</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">4.5</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">138</p></td><td style="width:19pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: left;">MB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.5</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">34+16</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">10,256 s</p></td><td style="width:20pt"><p class="s15" style="padding-right: 2pt;text-indent: 0pt;line-height: 8pt;text-align: right;">64</p></td><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:16pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.4</p></td><td style="width:18pt"><p class="s17" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">41</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">243 s</p></td><td style="width:19pt"><p class="s15" style="padding-left: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">120</p></td><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:17pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">39</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">17</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">WikiTalk</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">61</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">1.0</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.6</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">34+16</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">2,459 s</p></td><td style="width:19pt"><p class="s15" style="padding-left: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">416</p></td><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">MB</p></td><td style="width:17pt"><p class="s15" style="padding-left: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">1.8</p></td><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s17" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">µ<span class="s15">s</span></p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">197</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Skitter</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">359</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">2.7</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">2.3</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">123+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt"/><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt"/><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">190</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indo</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">173</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">2.3</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">1.6</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">133+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt"/><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt"/><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">150</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">MetroSec</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">108</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">2.5</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">0.7</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 15pt;text-indent: 0pt;line-height: 8pt;text-align: left;">19+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt"/><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt"/><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">150</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Flickr</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">866</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">4.0</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">2.6</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">247+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt"/><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt"/><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:19pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">361</p></td><td style="width:17pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 3pt;text-indent: 0pt;line-height: 8pt;text-align: center;">ms</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Hollywood</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">15,164</p></td><td style="width:9pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">12</p></td><td style="width:19pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">15.6</p></td><td style="width:15pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2,098+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt"/><td style="width:20pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt"/><td style="width:18pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt"/><td style="width:20pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt"/><td style="width:14pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:36pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s15" style="padding-left: 13pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1.2 s</p></td></tr><tr style="height:10pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:2pt"><p class="s15" style="padding-left: 4pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Indochina</p></td><td style="width:31pt;border-left-style:solid;border-left-width:2pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">6,068</p></td><td style="width:9pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">s</p></td><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="text-indent: 0pt;line-height: 8pt;text-align: right;">22</p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">GB</p></td><td style="width:21pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: right;">4.1</p></td><td style="width:15pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s17" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">µ<span class="s15">s</span></p></td><td style="width:44pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 11pt;text-indent: 0pt;line-height: 8pt;text-align: left;">415+64</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:16pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="width:18pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:26pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:35pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:19pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="width:20pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:17pt;border-bottom-style:solid;border-bottom-width:1pt"/><td style="width:14pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: right;">-</p></td><td style="width:36pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" colspan="2"><p class="s15" style="padding-left: 13pt;text-indent: 0pt;line-height: 8pt;text-align: left;">1.5 s</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Figures 2a and 2b are the log-log plot of degree complemen- tary cumulative distribution. As expected, we can conﬁrm that all these networks generally exhibit power-law degree distributions.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Then, we also examined the distribution of distances. Fig- ures 2c and 2d show distribution of distances for 1,000,000 random pairs of vertices. As we can observe from these ﬁg- ures, these networks are also small-world networks, in the sense that the average distance is very small.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l23"><ol id="l24"><li style="padding-left: 32pt;text-indent: -26pt;text-align: justify;"><h2 style="display: inline;">Performance</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">First we present the performance of our method on the real-world datasets to show the eﬃciency and robustness of our method. Table 3 shows the performance of our method for the datasets. IT denotes preprocessing time, IS denotes index size, QT denotes average query time for 1,000,000 random queries, and LN denotes the average label size for each vertex, in the format of the size of normal labels (left) plus the size of bit-parallel labels (right). We set the number of times we conduct bit-parallel BFSs as 16 for ﬁrst ﬁve datasets and 64 for the rest.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">In Table 3, we also listed the performance of two of the state-of-the-art existing methods. One is <span class="s3">hierarchical hub labeling </span>[2], which is also based on distance labeling. The other one is based on tree decompositions [4], which is an improved version of TEDI [41]. For these previous methods, we used the implementations by the authors of these meth- ods, both in C++. Experiments for hierarchical hub labeling were conducted on a Windows server with two Intel Xeon X5680 (3.33GHz) and 96GB of main memory. Experiments for the tree-decomposition-based method were conducted on our environment described above. We also described the av- erage time to compute distance by breadth-ﬁrst search for</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">1,000 random pairs of vertices. Among these four methods including the proposed method, only the preprocessing of hierarchical hub labeling [2] was parallelized to use all the 12 cores. All the other timing results are sequential.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l25"><li style="padding-left: 41pt;text-indent: -32pt;text-align: justify;"><p class="s32" style="display: inline;">Preprocessing Time and Scalability</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Our emphasis is particularly on the large improvement in the preprocessing time, leading to much better scalability. First, we successfully preprocessed the largest two datasets Hollywood and Indochina with millions of vertices and hun- dreds of millions of edges in moderate preprocessing time. This is improvement of two orders of magnitude on the graph size we can handle since, as we listed in Table 1, other exist- ing exact distance querying methods take thousands or tens of thousands of seconds to preprocess graphs with millions of edges.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">For next four datasets with tens of millions of edges, it took less than one thousand seconds, while the previous  methods did not ﬁnish after one day or ran out of mem-   ory. For smaller six datasets, they took at most one minute, and about at least 50 times faster than the previous methods for the most of them.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-left: 41pt;text-indent: -32pt;text-align: justify;"><p class="s32" style="display: inline;">Query Time</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">The average query time was generally microseconds and at most 16 microseconds. For almost all the smaller ﬁve datasets, the query time of the proposed method is faster than the query time of the previous methods. Indeed, from Table 1, we can also observe that the query time of our  method is comparable to all the existing methods for graphs of these sizes. Moreover, we can conﬁrm that the query time does not increase much for larger networks.</p><p class="s55" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10<span class="s56">7</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">6</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">5</span></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Labels</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Labels</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">4</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">3</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">2</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;text-align: right;">10<span class="s56">1</span></p><p class="s55" style="padding-top: 2pt;text-indent: 0pt;line-height: 6pt;text-align: right;">10<span class="s56">0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="178" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_021.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="3" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_022.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="3" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_023.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="3" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_024.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="3" height="4" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_025.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><table style="border-collapse:collapse" cellspacing="0"><tr style="height:10pt"><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:12pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454"/><td style="width:45pt;border-top-style:solid;border-top-width:2pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt" colspan="2" rowspan="2"><p class="s58" style="padding-top: 1pt;padding-left: 11pt;padding-right: 4pt;text-indent: -4pt;line-height: 5pt;text-align: left;">Skitter       Indo   </p><p class="s58" style="padding-left: 9pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Flickr   <u>           </u></p></td></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:12pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/></tr></table><table style="border-collapse:collapse" cellspacing="0"><tr style="height:10pt"><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:12pt;border-top-style:solid;border-top-width:1pt;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454"/><td style="width:45pt;border-top-style:solid;border-top-width:2pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt" colspan="2" rowspan="2"><p class="s58" style="padding-top: 1pt;padding-left: 11pt;padding-right: 4pt;text-indent: -4pt;line-height: 5pt;text-align: left;">Skitter       Indo   </p><p class="s58" style="padding-left: 9pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Flickr   <u>           </u></p></td></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:12pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:dashed;border-bottom-width:1pt;border-bottom-color:#545454;border-right-style:solid;border-right-width:1pt"/></tr><tr style="height:10pt"><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:dashed;border-right-width:1pt;border-right-color:#545454"/><td style="width:19pt;border-top-style:dashed;border-top-width:1pt;border-top-color:#545454;border-left-style:dashed;border-left-width:1pt;border-left-color:#545454;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"/></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;">1</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Percentile</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Cumulative Percentile</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.9</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.8</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.7</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.6</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.5</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.4</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.3</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.2</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;text-align: right;">0.1</p><p class="s55" style="padding-top: 1pt;text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-top: 3pt;padding-left: 10pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Skitter</p><p class="s55" style="padding-left: 13pt;text-indent: 2pt;line-height: 5pt;text-align: left;">Indo     Flickr             </p><p style="text-indent: 0pt;text-align: left;"><span><img width="177" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_026.png"/></span></p><p class="s55" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10<span class="s56">4</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Label Size</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Label Size</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;">10<span class="s56">3</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">10<span class="s56">2</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">10<span class="s56">1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;line-height: 6pt;text-align: right;">10<span class="s56">0</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="178" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_027.png"/></span></p><p class="s55" style="padding-top: 3pt;padding-left: 10pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Skitter</p><p class="s55" style="padding-left: 13pt;text-indent: 2pt;line-height: 5pt;text-align: left;">Indo     Flickr             </p><p class="s55" style="padding-left: 63pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4 </span>10<span class="s56">5 </span>10<span class="s56">6</span><span class="s57"> </span>10<span class="s56">7</span></p><p class="s55" style="padding-top: 1pt;padding-left: 63pt;text-indent: 0pt;text-align: center;">x-th BFS</p><ol id="l26"><li style="padding-top: 4pt;padding-left: 22pt;text-indent: 0pt;line-height: 9pt;text-align: left;"><p style="display: inline;">Number of vertices labeled in each pruned BFS.</p><p class="s55" style="padding-left: 53pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4 </span>10<span class="s56">5 </span>10<span class="s56">6</span><span class="s57"> </span>10<span class="s56">7</span></p><p class="s55" style="padding-top: 1pt;padding-left: 53pt;text-indent: 0pt;text-align: center;">x-th BFS</p></li><li style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;line-height: 9pt;text-align: justify;"><p style="display: inline;">Cumulative distribution of the number of vertices labeled in each pruned BFS.</p><p class="s55" style="padding-left: 48pt;text-indent: 0pt;text-align: center;">0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1</p><p class="s55" style="padding-top: 1pt;padding-left: 46pt;text-indent: 0pt;text-align: center;">Percentile</p></li><li style="padding-top: 3pt;padding-left: 25pt;text-indent: -13pt;text-align: left;"><p style="display: inline;">Distribution of the sizes of labels.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 163pt;text-indent: 0pt;text-align: left;">Figure 3: Eﬀect of pruning and sizes of labels.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="95" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_028.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="132" height="95" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_029.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="132" height="95" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_030.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="133" height="95" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_031.png"/></span></p><p class="s55" style="padding-top: 4pt;padding-left: 29pt;text-indent: 0pt;text-align: left;">1 1 1 1</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">0.8 0.8</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.8</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">0.8</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;"><a name="bookmark36">0.6</a><a name="bookmark37">&zwnj;</a><a name="bookmark38">&zwnj;</a><a name="bookmark39">&zwnj;</a><a name="bookmark40">&zwnj;</a><a name="bookmark41">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Gnutella Epinions Slashdot             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;">0.6</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: left;">d       =       3 d = 4</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: left;">d       =       5 d = 6</p><p class="s55" style="padding-left: 23pt;text-indent: 0pt;line-height: 5pt;text-align: center;">d = 7</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: left;">d = 8             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;">0.6</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 23pt;text-indent: 0pt;line-height: 5pt;text-align: center;">d = 2</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d       =       3 d       =       4 d = 5</p><p class="s55" style="padding-left: 23pt;text-indent: 0pt;line-height: 5pt;text-align: center;">d = 6</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d       =       7 d = 8             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Covered Pairs</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;text-align: right;">0.6</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.4</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;text-align: right;">0.2</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="text-indent: 0pt;line-height: 5pt;text-align: right;">0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d = 2</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d       =       3 d       =       4 d = 5</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d = 6</p><p class="s55" style="padding-left: 24pt;text-indent: 0pt;line-height: 5pt;text-align: justify;">d = 7             </p><p class="s55" style="padding-left: 50pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4</span><span class="s57"> </span>10<span class="s56">5</span></p><p class="s55" style="padding-top: 1pt;padding-left: 50pt;text-indent: 0pt;text-align: center;">x-th BFS</p><ol id="l27"><li style="padding-top: 3pt;padding-left: 65pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Average</p><p class="s55" style="padding-left: 31pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4</span><span class="s57"> </span>10<span class="s56">5</span></p><p class="s55" style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: center;">x-th BFS</p></li><li style="padding-top: 3pt;padding-left: 18pt;text-indent: -15pt;text-align: left;"><p style="display: inline;">Distance-wise, Gnutella</p><p class="s55" style="padding-left: 40pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4</span><span class="s57"> </span>10<span class="s56">5</span></p><p class="s55" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: center;">x-th BFS</p></li><li style="padding-top: 3pt;padding-left: 18pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Distance-wise, Epinions</p><p class="s55" style="padding-left: 40pt;text-indent: 0pt;line-height: 7pt;text-align: center;">10<span class="s56">0 </span>10<span class="s56">1 </span>10<span class="s56">2 </span>10<span class="s56">3 </span>10<span class="s56">4</span><span class="s57"> </span>10<span class="s56">5</span></p><p class="s55" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: center;">x-th BFS</p></li><li style="padding-top: 3pt;padding-left: 19pt;text-indent: -15pt;text-align: left;"><p style="display: inline;">Distance-wise, Slashdot</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Figure 4: Fraction of pairs of vertices whose distance can be answered by index, against number of performed pruned BFS.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li style="padding-top: 3pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Index Size</p></li></ol></li></ol></ol><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">As for the smaller ﬁve networks, results demonstrate that our method is comparable to the previous methods with respect to index size. However, even though nowadays com- puters with tens of gigabytes of memory are neither rare nor expensive, reducing the index size can be an important next research issue.</p><ol id="l28"><ol id="l29"><li style="padding-top: 4pt;padding-left: 32pt;text-indent: -26pt;text-align: left;"><h2 style="display: inline;">Analysis</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Next we analyze the behavior of our method to investigate why our method is eﬃcient.</p><ol id="l30"><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Pruned BFS</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">First we study how labels are computed and stored. Fig- ure 3a shows the number of distances added to labels in each pruned BFS, and Figure 3b shows the cumulative distribu- tion of it, that is, the ratio of the distances stored no later  than each step to all the distances stored in the end. We did not use bit-parallel BFSs for these experiments.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">From these ﬁgures, we  can conﬁrm the large impact of  the pruning. Figure 3a shows that the number of distances added to labels in each BFS decreases so rapidly. For ex- ample, after 1,000 times of BFSs, for all the three datasets distances are added to the labels of only less than 10% of  the vertices, and after conducting 10,000 times of BFSs, for all the three datasets distances are added to the labels of  only less than 1% of the vertices. Figure 3b also shows that large portion of the labels are computed in the beginning.</p></li><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Sizes of Labels</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Figure 3c shows the distribution of the sizes of labels after the whole preprocessing, sorted in the ascending order of sizes. We can observe that the size of a label each vertex  has do not diﬀer much for diﬀerent vertices, and few vertices have much larger labels than the average. This shows that the query time of our method is quite stable.</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">If you are anxious about vertices with unusually large la- bels, you can precompute the distance between these vertices and all the vertices and answer it directly, since the number of such vertices are few as shown in Figure 3c.</p></li><li style="padding-top: 6pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Pair Coverage</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Figure 4a illustrates the ratio of the <span class="s3">covered </span>pairs of ver- tices, that is, the pairs of vertices whose distances can be answered correctly by current labels, at each step. We used 1,000,000 random pairs to estimate these ratios. We can ob- serve that most pairs are covered in the beginning. This shows that such a large portion of pairs have  the short-     est paths that pass such a small portion of central vertices, which are selected by the Degree strategy. This is the rea- son why landmark-based approximate methods have good precision, and also the reason why our pruning works so eﬀectively.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Figures 4b, 4c and 4d illustrate the ratio of the covered pairs of vertices at each step with pairs classiﬁed by dis- tance. They show that generally distant pairs are covered earlier than close pairs. This is the reason why the preci- sion of landmark-based approximate methods for close pairs are far worse than the precision for distant pairs. On the  other hand, our method aggressively exploits this property: because distant pairs are covered in the beginning, we can prune distant vertices when processing other vertices, which results in fast preprocessing.</p></li><li style="padding-top: 6pt;padding-left: 41pt;text-indent: -32pt;text-align: left;"><p class="s32" style="display: inline;">Vertex Ordering Strategies</p><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Next we see the eﬀect of vertex ordering strategies. Ta- ble 5 describes the average size of a label for each vertex using diﬀerent vertex ordering strategies described in Sec- tion 4.4. We did not use bit-parallel BFSs for these exper- iments. As we can see, results are not so diﬀerent between the Degree strategy and the Closeness strategy. The De- gree strategy might be slightly better. On the other hand,</p><p style="text-indent: 0pt;text-align: left;"><span><img width="134" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_032.png"/></span></p><p class="s55" style="padding-top: 3pt;padding-left: 21pt;text-indent: 0pt;line-height: 7pt;text-align: left;">10<span class="s56">4</span></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Preprocessing Time (s)</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Preprocessing Time (s)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="text-indent: 0pt;line-height: 5pt;text-align: right;">Skitter</p><p class="s55" style="padding-left: 94pt;text-indent: 2pt;line-height: 5pt;text-align: right;">Indo             Flickr             </p><p class="s60" style="padding-top: 3pt;text-indent: 0pt;text-align: right;">10<span class="s57">-5</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-top: 3pt;padding-left: 20pt;text-indent: 0pt;line-height: 5pt;text-align: center;">Skitter</p><p class="s55" style="padding-left: 23pt;text-indent: 2pt;line-height: 5pt;text-align: left;">Indo     Flickr             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="130" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_033.png"/></span></p><p class="s55" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">1000</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-top: 3pt;padding-left: 20pt;text-indent: 0pt;line-height: 5pt;text-align: center;">Skitter</p><p class="s55" style="padding-left: 23pt;text-indent: 2pt;line-height: 5pt;text-align: left;">Indo     Flickr             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="128" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_034.png"/></span></p><p class="s55" style="text-indent: 0pt;text-align: right;">100</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="132" height="92" alt="image" src="Fast+exact+shortest-path+distance+queries+on+large+networks+by+pruned+landmark+labeling/Image_035.png"/></span></p><p class="s55" style="padding-top: 3pt;padding-left: 21pt;text-indent: 0pt;line-height: 5pt;text-align: left;">Skitter</p><p class="s55" style="padding-left: 23pt;text-indent: 2pt;line-height: 5pt;text-align: left;">Indo     Flickr             </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Query Time (s)</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Query Time (s)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Label Size</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Label Size</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Data Size (GB)</p><p class="s55" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Data Size (GB)</p><p style="text-indent: 0pt;text-align: left;"/><p class="s55" style="padding-top: 4pt;padding-left: 21pt;text-indent: 0pt;text-align: left;">10<span class="s56">3 </span>100 10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-top: 4pt;padding-left: 21pt;text-indent: 0pt;line-height: 7pt;text-align: left;">10<span class="s56">2</span></p><p class="s55" style="padding-left: 60pt;text-indent: 0pt;line-height: 5pt;text-align: center;">1 4 16 64 256 1024</p><p class="s55" style="padding-top: 1pt;padding-left: 54pt;text-indent: 0pt;text-align: center;">Bit-parallel BFS</p><p class="s60" style="padding-top: 4pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">10<span class="s57">-6</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 27pt;text-indent: 0pt;text-align: center;">1 4 16 64 256 1024</p><p class="s55" style="padding-top: 1pt;padding-left: 22pt;text-indent: 0pt;text-align: center;">Bit-parallel BFS</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 11pt;text-indent: 0pt;line-height: 5pt;text-align: left;">10</p><p class="s55" style="padding-left: 31pt;text-indent: 0pt;line-height: 5pt;text-align: center;">1 4 16 64 256 1024</p><p class="s55" style="padding-top: 1pt;padding-left: 30pt;text-indent: 0pt;text-align: center;">Bit-parallel BFS</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s55" style="padding-left: 11pt;text-indent: 0pt;line-height: 5pt;text-align: left;">1</p><p class="s55" style="padding-left: 45pt;text-indent: 0pt;line-height: 5pt;text-align: center;">1 4 16 64 256 1024</p><p class="s55" style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: center;">Bit-parallel BFS</p><ol id="l31"><li style="padding-top: 3pt;padding-left: 41pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Preprocessing time</p></li><li style="padding-top: 3pt;padding-left: 42pt;text-indent: -15pt;text-align: left;"><p style="display: inline;">Query time</p></li><li style="padding-top: 3pt;padding-left: 40pt;text-indent: -14pt;text-align: left;"><p style="display: inline;">Average size of a normal label</p></li><li style="padding-top: 3pt;padding-left: 35pt;text-indent: -15pt;text-align: left;"><p style="display: inline;">Index size</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">Figure 5: Performance against number of bit-parallel BFSs.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Table 5: Average size of a label for each vertex against dif- ferent vertex ordering strategies.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:29.931pt" cellspacing="0"><tr style="height:11pt"><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Dataset</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">Random</p></td><td style="width:41pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">Degree</p></td><td style="width:51pt;border-top-style:solid;border-top-width:1pt;border-bottom-style:solid;border-bottom-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">Closeness</p></td></tr><tr style="height:10pt"><td style="width:53pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Gnutella</p></td><td style="width:43pt;border-top-style:solid;border-top-width:2pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">6,171</p></td><td style="width:41pt;border-top-style:solid;border-top-width:2pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">781</p></td><td style="width:51pt;border-top-style:solid;border-top-width:2pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">865</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Epinions</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">7,038</p></td><td style="width:41pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">124</p></td><td style="width:51pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">132</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><a name="bookmark42">Slashdot</a><a name="bookmark43">&zwnj;</a><a name="bookmark44">&zwnj;</a></p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">8,665</p></td><td style="width:41pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">216</p></td><td style="width:51pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">234</p></td></tr><tr style="height:9pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">NotreDame</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:41pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">60</p></td><td style="width:51pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">82</p></td></tr><tr style="height:10pt"><td style="width:53pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-left: 5pt;text-indent: 0pt;line-height: 8pt;text-align: left;">WikiTalk</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">DNF</p></td><td style="width:41pt;border-bottom-style:solid;border-bottom-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">118</p></td><td style="width:51pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s15" style="padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: right;">158</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">the result of the Random strategy is much worse than other two strategies. This shows that by the Degree and Close- ness strategies we can successfully capture central vertices.</p></li></ol></li><li style="padding-top: 5pt;padding-left: 41pt;text-indent: -32pt;text-align: justify;"><p class="s32" style="display: inline;">Bit-parallel BFS</p></li></ol></li></ol></ol><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">Finally, we see the eﬀect of bit-parallel BFSs discussed in Section 5. Figure 5 shows the performance of our method against diﬀerent number of times we conduct bit-parallel BFSs.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Figure 5a illustrates preprocessing time. It shows that, with a proper number of bit-parallel BFSs, preprocessing time gets two to ten times faster, resulting in the further enhancement to the scalability of our method. Figure 5b illustrates query time. We can conﬁrm that query time also gets faster. Figure 5c shows the average size of a normal la- bel for each vertex. As we increase the number of bit-parallel BFSs, many pairs are covered by special labels computed by bit-parallel BFSs, and the size of normal labels decreases. Figure 5d shows the index size. With a proper number of bit-parallel BFSs, index size also decreases.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">Another important ﬁnding from these ﬁgures is that the performance of our method is not too sensitive to the pa- rameter of the number of bit-parallel BFSs. As they show, the performance of our method does not become worse much unless we choose a too big number. The proper parameters seem to common between diﬀerent networks. Therefore, our method still is easy to use with this bit-parallel technique.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: justify;"><h2 style="display: inline;">CONCLUSIONS</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">In this paper, we proposed a novel and eﬃcient method for exact shortest-path distance queries on large graphs. Our method is based on distance labeling to vertices, which is common to the existing exact distance querying methods, but our labeling algorithm stands on a totally new idea.   Our algorithm conducts breadth-ﬁrst search (BFS) from all the vertices with pruning. Though the algorithm is simple, our pruning surprisingly reduce the search space and the  labels, resulting in fast preprocessing time, small index size and fast query time. Moreover, we also proposed another la- beling scheme exploiting bit-level parallelism, which can be easily combined with the pruned labeling method to further</p><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">improve the performance. Extensive experimental results  on large-scale real-world networks of various types demon- strated the eﬃciency and robustness of our methods. In  particular, our method can handle networks with hundreds  of millions of vertices, which are two orders of magnitude larger than the limits of the previous methods, with compa- rable index size and query time.</p><p style="padding-left: 5pt;text-indent: 8pt;text-align: justify;">We plan to investigate ways to handle even larger graphs, where indices and/or graphs might not ﬁt in main  mem-  ory. The ﬁrst way is to reduce the index size by reducing graphs exploiting obvious parts and symmetry [30, 14] and compressing labels by making dictionaries of common sub- trees for shortest path trees [1]. Another way is disk-based or distributed implementation. As we stated in Section 6, disk-based query answering is obvious and ready, and the challenges are particularly on preprocessing. However, since our preprocessing algorithm is a simple algorithm based on BFS, we can leverage the large body of existing work on BFS. In particular, since pruning can be done locally, the preprocessing algorithm would perform well on BSP-model- based distributed graph processing platforms [25].</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-left: 26pt;text-indent: -20pt;text-align: left;"><h2 style="display: inline;">ACKNOWLEDGMENTS</h2><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 8pt;text-align: justify;">We would like to thank Hiroshi Imai for critical reading  of the manuscript, and Daniel Delling for providing us the experimental results of hierarchical hub labeling [2]. We would also like to thank the anonymous reviewers for their constructive suggestions on improving the paper. Yuichi Yoshida is supported by JSPS Grant-in-Aid for Research Activity Start-up (24800082), MEXT Grant-in-Aid for Sci- entiﬁc Research on Innovative Areas (24106001), and JST, ERATO, Kawarabayashi Large Graph Project.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li style="padding-left: 32pt;text-indent: -26pt;text-align: left;"><h2 style="display: inline;">REFERENCES</h2></li></ol></li></ol><p style="padding-top: 3pt;padding-left: 24pt;text-indent: -14pt;text-align: left;">[1] I. Abraham, D. Delling, A. V. Goldberg, and R. F. Werneck. A hub-based labeling algorithm for shortest paths in road networks. In <span class="s3">SEA</span>, pages 230–241, 2011.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -14pt;text-align: left;">[2] I. Abraham, D. Delling, A. V. Goldberg, and R. F. Werneck. Hierarchical hub labelings for shortest paths. In <span class="s3">ESA</span>, pages 24–35. 2012.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -14pt;text-align: left;">[3] V. Agarwal, F. Petrini, D. Pasetto, and D. A. Bader. Scalable graph exploration on multicore processors. In <span class="s3">SC</span>, pages 1–11, 2010.</p><p style="padding-top: 1pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">[4] T. Akiba, C. Sommer, and K. Kawarabayashi.</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Shortest-path queries for complex networks: exploiting low tree-width outside the core. In <span class="s3">EDBT</span>, pages 144–155, 2012.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -14pt;text-align: left;">[5]  R. Albert,  H. Jeong,  and A. L. Barabasi. The diameter of the world wide web. <span class="s3">Nature</span>, 401:130–131, 1999.</p><p style="padding-top: 2pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">[6] L. Backstrom, D. Huttenlocher, J. Kleinberg, and</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">X. Lan. Group formation in large social networks: membership, growth, and evolution. In <span class="s3">KDD</span>, pages 44–54, 2006.</p><p style="padding-top: 1pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">[7] S. Boccaletti, V. Latora, Y. Moreno, M. Chavez, and</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">D. Hwang. Complex networks: Structure and dynamics. <span class="s3">Physics reports</span>, 424(4-5):175–308, 2006.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -14pt;text-align: left;">[8] P. Boldi, M. Rosa, M. Santini, and S. Vigna. Layered label propagation: a multiresolution coordinate-free ordering for compressing social networks. In <span class="s3">WWW</span>, pages 587–596, 2011.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -14pt;text-align: justify;">[9] P. Boldi and S. Vigna. The webgraph framework I: compression techniques. In <span class="s3">WWW</span>, pages 595–602, 2004.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[10] D. S. Callaway, M. E. J. Newman, S. H. Strogatz, and</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">D. J. Watts. Network robustness and fragility: Percolation on random graphs. <span class="s3">Physical Review Letters</span>, 85:5468–5471, 2000.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[11] W. Chen, C. Sommer, S.-H. Teng, and Y. Wang. A compact routing  scheme  and  approximate  distance oracle for power-law graphs. <span class="s3">TALG</span>, 9(1):4:1–26, 2012.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[12] J. Cheng and J. X. Yu. On-line exact shortest distance query processing. In <span class="s3">EDBT</span>, pages 481–492, 2009.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[13] E. Cohen, E. Halperin, H. Kaplan, and U. Zwick.</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Reachability and distance queries via 2-hop labels. In</p><p class="s3" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">SODA<span class="p">, pages 937–946, 2002.</span></p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[14] W. Fan, J. Li, X. Wang, and Y. Wu. Query preserving graph compression. In <span class="s3">SIGMOD</span>, pages 157–168, 2012.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: justify;">[15] A. Gubichev, S. Bedathur, S. Seufert, and G. Weikum. Fast and accurate estimation of shortest paths in large graphs. In <span class="s3">CIKM</span>, pages 499–508, 2010.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[16] H. He, H. Wang, J. Yang, and P. S. Yu. Blinks: ranked keyword searches on graphs. In <span class="s3">SIGMOD</span>, pages 305–316, 2007.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[17] R. Jin, N. Ruan, Y. Xiang, and V. Lee. A highway-centric labeling approach for answering</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">distance queries on large sparse graphs. In <span class="s3">SIGMOD</span>, pages 445–456, 2012.</p><p style="padding-left: 24pt;text-indent: -18pt;text-align: left;">[18] C. Jordan. Sur les assemblages de lignes. <span class="s3">J. Reine Angew Math</span>, 70:185–190, 1869.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[19] D. Kempe, J. Kleinberg, and E. Tardos. Maximizing the spread of inﬂuence through a social network. In <span class="s3">KDD</span>, pages 137–146, 2003.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[20] J. Leskovec, D. Huttenlocher, and J. Kleinberg.</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Predicting positive and negative links in online social networks. In <span class="s3">WWW</span>, pages 641–650, 2010.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[21] J. Leskovec, D. Huttenlocher, and J. Kleinberg. Signed networks in social media. In <span class="s3">CHI</span>, pages 1361–1370, 2010.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[22] J. Leskovec, J. Kleinberg, and C. Faloutsos. Graphs over time: Densiﬁcation laws, shrinking diameters and possible explanations. In <span class="s3">KDD</span>, pages 177–187, 2005.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[23] J. Leskovec, K. Lang, A. Dasgupta, and M. Mahoney.</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: justify;">Community structure in large networks: Natural cluster sizes and the absence of large well-deﬁned clusters. <span class="s3">Internet Mathematics</span>, 6(1):29–123, 2009.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[24] C. Magnien, M. Latapy, and M. Habib. Fast computation of empirically tight bounds for the diameter of massive graphs. <span class="s3">J. Exp. Algorithmics</span>, 13:10:1.10–10:1.9, Feb. 2009.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[25] G. Malewicz, M. H. Austern, A. J. Bik, J. C. Dehnert,</p><p style="padding-top: 2pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">I. Horn, N. Leiser, and G. Czajkowski. Pregel: a system for large-scale graph processing. In <span class="s3">SIGMOD</span>, pages 135–146, 2010.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[26] A. Mislove, M. Marcon, K. P. Gummadi, P. Druschel, and B. Bhattacharjee. Measurement and analysis of online social networks. In <span class="s3">IMC</span>, pages 29–42, 2007.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[27] M. E. J. Newman, S. H. Strogatz, and D. J. Watts. Random graphs with arbitrary degree distributions and their applications. <span class="s3">Physical Review E</span>, 64(2):026118 1–17, 2001.</p><p style="padding-left: 24pt;text-indent: -18pt;text-align: left;">[28] R. Pastor-Satorras and A. Vespignani. <span class="s3">Evolution and structure of the Internet: A statistical physics approach</span>. Cambridge University Press, 2004.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[29] M. Potamias, F. Bonchi, C. Castillo, and A. Gionis.</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Fast shortest path distance estimation in large networks. In <span class="s3">CIKM</span>, pages 867–876, 2009.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[30] M. Qiao, H. Cheng, L. Chang, and J. X. Yu. Approximate shortest distance computing: A query-dependent local landmark scheme. In <span class="s3">ICDE</span>, pages 462–473, 2012.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[31] S. A. Rahman, P. Advani, R. Schunk, R. Schrader, and D. Schomburg. Metabolic pathway analysis web service (pathway hunter tool at cubic).</p><p class="s3" style="padding-left: 24pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Bioinformatics<span class="p">, 21(7):1189–1193, 2005.</span></p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[32] S. A. Rahman and D. Schomburg. Observing local and global properties of metabolic pathways: ‘load points’ and ‘choke points’ in the metabolic networks.</p><p class="s3" style="padding-left: 24pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Bioinformatics<span class="p">, 22(14):1767–1774, 2006.</span></p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: justify;">[33] M. Richardson, R. Agrawal, and P. Domingos. Trust management for the semantic web. In <span class="s3">ISWC</span>, volume 2870, pages 351–368. 2003.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[34] M. Ripeanu, A. Iamnitchi, and I. Foster. Mapping the gnutella network. <span class="s3">IEEE Internet Computing</span>, 6(1):50–57, Jan. 2002.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[35] N. Robertson and P. D. Seymour. Graph minors. III. Planar tree-width. <span class="s3">J. Comb. Theory, Ser. B</span>, 36(1):49–64, 1984.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[36] L. Tang and M. Crovella. Virtual landmarks for the internet. In <span class="s3">SIGCOMM</span>, pages 143–152, 2003.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[37] T. Tran, H. Wang, S. Rudolph, and P. Cimiano. Top-k exploration of query candidates for eﬃcient keyword search on graph-shaped (RDF) data. In <span class="s3">ICDE</span>, pages 405–416, 2009.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[38] K. Tretyakov, A. Armas-Cervantes,</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">L. Garc´ıa-Ban˜uelos, J. Vilo, and M. Dumas. Fast fully dynamic landmark-based estimation of shortest path distances in very large graphs. In <span class="s3">CIKM</span>, pages 1785–1794, 2011.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[39] A. Ukkonen, C. Castillo, D. Donato, and A. Gionis. Searching the wikipedia with contextual information. In <span class="s3">CIKM</span>, pages 1351–1352, 2008.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[40] M. V. Vieira, B. M. Fonseca, R. Damazio, P. B. Golgher, D. d. C. Reis, and B. Ribeiro-Neto. Eﬃcient search ranking in social networks. In <span class="s3">CIKM</span>, pages 563–572, 2007.</p><p style="padding-top: 1pt;padding-left: 24pt;text-indent: -18pt;text-align: left;">[41] F. Wei. Tedi: eﬃcient shortest path query answering on graphs. In <span class="s3">SIGMOD</span>, pages 99–110, 2010.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">[42] S. A. Yahia, M. Benedikt, L. V. S. Lakshmanan, and</p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;">J. Stoyanovich. Eﬃcient network aware search in collaborative tagging sites. <span class="s3">PVLDB</span>, 1(1):710–721, 2008.</p></body></html>
